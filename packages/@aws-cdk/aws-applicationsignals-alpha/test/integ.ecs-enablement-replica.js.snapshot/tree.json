{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"ApplicationSignalsInfra-Replica":{"id":"ApplicationSignalsInfra-Replica","path":"ApplicationSignalsInfra-Replica","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"ECSTaskRole":{"id":"ECSTaskRole","path":"ApplicationSignalsInfra-Replica/ECSTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportECSTaskRole":{"id":"ImportECSTaskRole","path":"ApplicationSignalsInfra-Replica/ECSTaskRole/ImportECSTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/ECSTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/CloudWatchAgentServerPolicy"]]}],"roleName":"ECSTaskRole-ApplicationSignalsInfra-Replica"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApplicationSignalsInfra-Replica/ECSTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/ECSTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["ssmmessages:CreateControlChannel","ssmmessages:CreateDataChannel","ssmmessages:OpenControlChannel","ssmmessages:OpenDataChannel"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ECSTaskRoleDefaultPolicy82FC9293","roles":[{"Ref":"ECSTaskRoleF2ADB362"}]}}}}}}},"ECSTaskExecutionRole":{"id":"ECSTaskExecutionRole","path":"ApplicationSignalsInfra-Replica/ECSTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportECSTaskExecutionRole":{"id":"ImportECSTaskExecutionRole","path":"ApplicationSignalsInfra-Replica/ECSTaskExecutionRole/ImportECSTaskExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/ECSTaskExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}],"roleName":"ECSTaskExecutionRole-ApplicationSignalsInfra-Replica"}}}}},"ECSVPC":{"id":"ECSVPC","path":"ApplicationSignalsInfra-Replica/ECSVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/ECSVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"Acl":{"id":"Acl","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"ECSVPCPublicSubnet1RouteTable08125A7E"},"subnetId":{"Ref":"ECSVPCPublicSubnet1SubnetF687C8BC"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"ECSVPCIGWA5DF967D"},"routeTableId":{"Ref":"ECSVPCPublicSubnet1RouteTable08125A7E"}}}},"EIP":{"id":"EIP","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["ECSVPCPublicSubnet1EIP5508CF3B","AllocationId"]},"subnetId":{"Ref":"ECSVPCPublicSubnet1SubnetF687C8BC"},"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"Acl":{"id":"Acl","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"ECSVPCPublicSubnet2RouteTable3903EDDF"},"subnetId":{"Ref":"ECSVPCPublicSubnet2Subnet65EAA6C3"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"ECSVPCIGWA5DF967D"},"routeTableId":{"Ref":"ECSVPCPublicSubnet2RouteTable3903EDDF"}}}},"EIP":{"id":"EIP","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2"}]}}},"NATGateway":{"id":"NATGateway","path":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["ECSVPCPublicSubnet2EIP7688D464","AllocationId"]},"subnetId":{"Ref":"ECSVPCPublicSubnet2Subnet65EAA6C3"},"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PublicSubnet2"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"Acl":{"id":"Acl","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"ECSVPCPrivateSubnet1RouteTable6DDD0E2A"},"subnetId":{"Ref":"ECSVPCPrivateSubnet1Subnet47127919"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"ECSVPCPublicSubnet1NATGateway3F55CBA0"},"routeTableId":{"Ref":"ECSVPCPrivateSubnet1RouteTable6DDD0E2A"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"Acl":{"id":"Acl","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"ECSVPCPrivateSubnet2RouteTable6C7BC896"},"subnetId":{"Ref":"ECSVPCPrivateSubnet2Subnet3DDEA4A1"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"ApplicationSignalsInfra-Replica/ECSVPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"ECSVPCPublicSubnet2NATGateway6CF45DA2"},"routeTableId":{"Ref":"ECSVPCPrivateSubnet2RouteTable6C7BC896"}}}}}},"IGW":{"id":"IGW","path":"ApplicationSignalsInfra-Replica/ECSVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"ApplicationSignalsInfra-Replica/ECSVPC"}]}}},"VPCGW":{"id":"VPCGW","path":"ApplicationSignalsInfra-Replica/ECSVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"ECSVPCIGWA5DF967D"},"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"ApplicationSignalsInfra-Replica/ECSVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ApplicationSignalsInfra-Replica/ECSVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"ApplicationSignalsInfra-Replica/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"0.0.0"},"children":{"Staging":{"id":"Staging","path":"ApplicationSignalsInfra-Replica/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"ApplicationSignalsInfra-Replica/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"ApplicationSignalsInfra-Replica/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"TestCluster":{"id":"TestCluster","path":"ApplicationSignalsInfra-Replica/TestCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"0.0.0","metadata":[{"vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/TestCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}}}},"Namespace":{"id":"Namespace","path":"ApplicationSignalsInfra-Replica/Namespace","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.PrivateDnsNamespace","version":"0.0.0","metadata":[{"vpc":"*","name":"*"}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/Namespace/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_servicediscovery.CfnPrivateDnsNamespace","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ServiceDiscovery::PrivateDnsNamespace","aws:cdk:cloudformation:props":{"name":"local","vpc":{"Ref":"ECSVPCB65D497F"}}}}}},"ECSSG":{"id":"ECSSG","path":"ApplicationSignalsInfra-Replica/ECSSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"0.0.0","metadata":[{"vpc":"*"},{"addIngressRule":["*",{}]}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsInfra-Replica/ECSSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"ApplicationSignalsInfra-Replica/ECSSG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"ECSVPCB65D497F"}}}},"from ApplicationSignalsInfraReplicaECSSG4E03F621:0-65535":{"id":"from ApplicationSignalsInfraReplicaECSSG4E03F621:0-65535","path":"ApplicationSignalsInfra-Replica/ECSSG/from ApplicationSignalsInfraReplicaECSSG4E03F621:0-65535","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from ApplicationSignalsInfraReplicaECSSG4E03F621:0-65535","fromPort":0,"groupId":{"Fn::GetAtt":["ECSSG6D882F29","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ECSSG6D882F29","GroupId"]},"toPort":65535}}}}},"Exports":{"id":"Exports","path":"ApplicationSignalsInfra-Replica/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Fn::GetAtt\":[\"ECSTaskExecutionRole911F5A4F\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ECSTaskExecutionRole911F5A4F\",\"Arn\"]}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Fn::GetAtt\":[\"ECSTaskExecutionRole911F5A4F\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Output{\"Fn::GetAtt\":[\"ECSTaskRoleF2ADB362\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ECSTaskRoleF2ADB362\",\"Arn\"]}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Fn::GetAtt\":[\"ECSTaskRoleF2ADB362\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Output{\"Ref\":\"TestClusterE0095054\"}":{"id":"Output{\"Ref\":\"TestClusterE0095054\"}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Ref\":\"TestClusterE0095054\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Output{\"Ref\":\"ECSVPCPrivateSubnet1Subnet47127919\"}":{"id":"Output{\"Ref\":\"ECSVPCPrivateSubnet1Subnet47127919\"}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Ref\":\"ECSVPCPrivateSubnet1Subnet47127919\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Output{\"Ref\":\"ECSVPCPrivateSubnet2Subnet3DDEA4A1\"}":{"id":"Output{\"Ref\":\"ECSVPCPrivateSubnet2Subnet3DDEA4A1\"}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Ref\":\"ECSVPCPrivateSubnet2Subnet3DDEA4A1\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Output{\"Fn::GetAtt\":[\"ECSSG6D882F29\",\"GroupId\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ECSSG6D882F29\",\"GroupId\"]}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Fn::GetAtt\":[\"ECSSG6D882F29\",\"GroupId\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Output{\"Fn::GetAtt\":[\"Namespace9B63B8C8\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"Namespace9B63B8C8\",\"Arn\"]}","path":"ApplicationSignalsInfra-Replica/Exports/Output{\"Fn::GetAtt\":[\"Namespace9B63B8C8\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsInfra-Replica/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsInfra-Replica/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"ApplicationSignalsCloudWatchAgent-Replica":{"id":"ApplicationSignalsCloudWatchAgent-Replica","path":"ApplicationSignalsCloudWatchAgent-Replica","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"CloudWatchAgentTaskDefinition":{"id":"CloudWatchAgentTaskDefinition","path":"ApplicationSignalsCloudWatchAgent-Replica/CloudWatchAgentTaskDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"0.0.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsCloudWatchAgent-Replica/CloudWatchAgentTaskDefinition/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"cpu":128,"essential":true,"image":"public.ecr.aws/cloudwatch-agent/cloudwatch-agent:latest","memory":64,"name":"ecs-cwagent","portMappings":[{"containerPort":4316,"hostPort":4316,"protocol":"tcp","name":"cwagent-4316"},{"containerPort":2000,"hostPort":2000,"protocol":"tcp","name":"cwagent-2000"}],"user":"0:1338","environment":[{"name":"CW_CONFIG_CONTENT","value":"{\"logs\":{\"metrics_collected\":{\"application_signals\":{\"enabled\":true}}},\"traces\":{\"traces_collected\":{\"application_signals\":{\"enabled\":true}}}}"}]}],"cpu":"256","executionRoleArn":{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputFnGetAttECSTaskExecutionRole911F5A4FArn90EDA8DE"},"family":"ApplicationSignalsCloudWatchAgentReplicaCloudWatchAgentTaskDefinitionE89B3879","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputFnGetAttECSTaskRoleF2ADB362Arn397CEC35"}}}},"ecs-cwagent":{"id":"ecs-cwagent","path":"ApplicationSignalsCloudWatchAgent-Replica/CloudWatchAgentTaskDefinition/ecs-cwagent","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"0.0.0"}}}},"CloudWatchAgentECSIntegration":{"id":"CloudWatchAgentECSIntegration","path":"ApplicationSignalsCloudWatchAgent-Replica/CloudWatchAgentECSIntegration","constructInfo":{"fqn":"@aws-cdk/aws-applicationsignals-alpha.CloudWatchAgentIntegration","version":"0.0.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsCloudWatchAgent-Replica/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsCloudWatchAgent-Replica/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"ApplicationSignalsPythonApp-Replica":{"id":"ApplicationSignalsPythonApp-Replica","path":"ApplicationSignalsPythonApp-Replica","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"PythonTaskDefinition":{"id":"PythonTaskDefinition","path":"ApplicationSignalsPythonApp-Replica/PythonTaskDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"0.0.0","metadata":["*","*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsPythonApp-Replica/PythonTaskDefinition/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"command":["sh","-c","python3 manage.py migrate --noinput && python3 manage.py collectstatic --noinput && python3 manage.py runserver 0.0.0.0:8080 --noreload"],"dependsOn":[{"containerName":"adot-init","condition":"SUCCESS"}],"essential":true,"image":"public.ecr.aws/q0c5s6i7/demo-application:python-remote","memory":512,"mountPoints":[{"containerPath":"/otel-auto-instrumentation-python","readOnly":false,"sourceVolume":"opentelemetry-auto-instrumentation"}],"name":"app","environment":[{"name":"PYTHONPATH","value":"/otel-auto-instrumentation-python/opentelemetry/instrumentation/auto_instrumentation:/django_remote_app:/otel-auto-instrumentation-python"},{"name":"DJANGO_SETTINGS_MODULE","value":"django_remote_service.settings"},{"name":"OTEL_LOGS_EXPORTER","value":"none"},{"name":"OTEL_METRICS_EXPORTER","value":"none"},{"name":"OTEL_EXPORTER_OTLP_PROTOCOL","value":"http/protobuf"},{"name":"OTEL_AWS_APPLICATION_SIGNALS_ENABLED","value":"true"},{"name":"OTEL_AWS_APPLICATION_SIGNALS_EXPORTER_ENDPOINT","value":"http://cwagent-4316-http:4316/v1/metrics"},{"name":"OTEL_EXPORTER_OTLP_TRACES_ENDPOINT","value":"http://cwagent-4316-http:4316/v1/traces"},{"name":"OTEL_TRACES_SAMPLER","value":"xray"},{"name":"OTEL_TRACES_SAMPLER_ARG","value":"endpoint=http://cwagent-2000-http:2000"},{"name":"OTEL_PROPAGATORS","value":"tracecontext,baggage,b3,xray"},{"name":"OTEL_PYTHON_DISTRO","value":"aws_distro"},{"name":"OTEL_PYTHON_CONFIGURATOR","value":"aws_configurator"},{"name":"OTEL_SERVICE_NAME","value":"python-demo"}]},{"command":["cp","-a","/autoinstrumentation/.","/otel-auto-instrumentation-python"],"cpu":0,"essential":false,"image":"public.ecr.aws/aws-observability/adot-autoinstrumentation-python:v0.8.0","memory":32,"mountPoints":[{"containerPath":"/otel-auto-instrumentation-python","readOnly":false,"sourceVolume":"opentelemetry-auto-instrumentation"}],"name":"adot-init"}],"cpu":"256","executionRoleArn":{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputFnGetAttECSTaskExecutionRole911F5A4FArn90EDA8DE"},"family":"ApplicationSignalsPythonAppReplicaPythonTaskDefinition1EB5B62D","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputFnGetAttECSTaskRoleF2ADB362Arn397CEC35"},"volumes":[{"name":"opentelemetry-auto-instrumentation"}]}}},"app":{"id":"app","path":"ApplicationSignalsPythonApp-Replica/PythonTaskDefinition/app","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"0.0.0"}},"adot-init":{"id":"adot-init","path":"ApplicationSignalsPythonApp-Replica/PythonTaskDefinition/adot-init","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"0.0.0"}}}},"PythonECSIntegration":{"id":"PythonECSIntegration","path":"ApplicationSignalsPythonApp-Replica/PythonECSIntegration","constructInfo":{"fqn":"@aws-cdk/aws-applicationsignals-alpha.ApplicationSignalsIntegration","version":"0.0.0"}},"PythonApp":{"id":"PythonApp","path":"ApplicationSignalsPythonApp-Replica/PythonApp","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"0.0.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"ApplicationSignalsPythonApp-Replica/PythonApp/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputRefTestClusterE00950540C50D0A5"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50},"desiredCount":1,"enableEcsManagedTags":false,"enableExecuteCommand":true,"launchType":"FARGATE","networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputRefECSVPCPrivateSubnet1Subnet47127919A0DA97A7"},{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputRefECSVPCPrivateSubnet2Subnet3DDEA4A1B9FACCA0"}],"securityGroups":[{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputFnGetAttECSSG6D882F29GroupId3205927F"}]}},"serviceConnectConfiguration":{"enabled":true,"namespace":{"Fn::ImportValue":"ApplicationSignalsInfra-Replica:ExportsOutputFnGetAttNamespace9B63B8C8ArnC7278E2B"}},"taskDefinition":{"Ref":"PythonTaskDefinition2F79666C"}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsPythonApp-Replica/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsPythonApp-Replica/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"ApplicationSignalsIntegrationECSReplicaTest":{"id":"ApplicationSignalsIntegrationECSReplicaTest","path":"ApplicationSignalsIntegrationECSReplicaTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"ApplicationSignalsIntegrationECSReplicaTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"ApplicationSignalsIntegrationECSReplicaTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"ApplicationSignalsIntegrationECSReplicaTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsIntegrationECSReplicaTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsIntegrationECSReplicaTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}