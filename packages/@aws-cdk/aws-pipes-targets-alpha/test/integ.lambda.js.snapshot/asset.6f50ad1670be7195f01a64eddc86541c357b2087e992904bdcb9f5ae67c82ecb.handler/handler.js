"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// eslint-disable-next-line import/no-extraneous-dependencies
const client_lambda_1 = require("@aws-sdk/client-lambda");
exports.handler = async (event, context) => {
    const client = new client_lambda_1.LambdaClient();
    const input = {
        Resource: context.invokedFunctionArn,
        Tags: {
            Identifier: event[0].body, // event is received in batches, we just take the first message to update the tag. See https://docs.aws.amazon.com/eventbridge/latest/userguide/pipes-targets-specifics.html
        },
    };
    const command = new client_lambda_1.TagResourceCommand(input);
    await client.send(command);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2REFBNkQ7QUFDN0QsMERBQTBFO0FBRTFFLE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxFQUFFLEtBQVUsRUFBRSxPQUFZLEVBQUUsRUFBRTtJQUNuRCxNQUFNLE1BQU0sR0FBRyxJQUFJLDRCQUFZLEVBQUUsQ0FBQztJQUNsQyxNQUFNLEtBQUssR0FBRztRQUNaLFFBQVEsRUFBRSxPQUFPLENBQUMsa0JBQWtCO1FBQ3BDLElBQUksRUFBRTtZQUNKLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLDRLQUE0SztTQUN4TTtLQUNGLENBQUM7SUFDRixNQUFNLE9BQU8sR0FBRyxJQUFJLGtDQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlDLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM3QixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQgeyBMYW1iZGFDbGllbnQsIFRhZ1Jlc291cmNlQ29tbWFuZCB9IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1sYW1iZGEnO1xuXG5leHBvcnRzLmhhbmRsZXIgPSBhc3luYyAoZXZlbnQ6IGFueSwgY29udGV4dDogYW55KSA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IG5ldyBMYW1iZGFDbGllbnQoKTtcbiAgY29uc3QgaW5wdXQgPSB7XG4gICAgUmVzb3VyY2U6IGNvbnRleHQuaW52b2tlZEZ1bmN0aW9uQXJuLFxuICAgIFRhZ3M6IHtcbiAgICAgIElkZW50aWZpZXI6IGV2ZW50WzBdLmJvZHksIC8vIGV2ZW50IGlzIHJlY2VpdmVkIGluIGJhdGNoZXMsIHdlIGp1c3QgdGFrZSB0aGUgZmlyc3QgbWVzc2FnZSB0byB1cGRhdGUgdGhlIHRhZy4gU2VlIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9ldmVudGJyaWRnZS9sYXRlc3QvdXNlcmd1aWRlL3BpcGVzLXRhcmdldHMtc3BlY2lmaWNzLmh0bWxcbiAgICB9LFxuICB9O1xuICBjb25zdCBjb21tYW5kID0gbmV3IFRhZ1Jlc291cmNlQ29tbWFuZChpbnB1dCk7XG4gIGF3YWl0IGNsaWVudC5zZW5kKGNvbW1hbmQpO1xufTsiXX0=