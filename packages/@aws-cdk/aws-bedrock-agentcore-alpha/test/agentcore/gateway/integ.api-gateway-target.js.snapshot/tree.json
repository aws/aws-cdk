{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"BedrockAgentCoreApiGatewayTargetIntegTest":{"id":"BedrockAgentCoreApiGatewayTargetIntegTest","path":"BedrockAgentCoreApiGatewayTargetIntegTest","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"TestGateway":{"id":"TestGateway","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway","constructInfo":{"fqn":"@aws-cdk/aws-bedrock-agentcore-alpha.Gateway","version":"0.0.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"bedrock-agentcore.amazonaws.com"}},{"Action":"sts:AssumeRole","Condition":{"StringEquals":{"aws:SourceAccount":{"Ref":"AWS::AccountId"}},"ArnLike":{"aws:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":bedrock-agentcore:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":gateway/api-gateway-target-integ-test*"]]}}},"Effect":"Allow","Principal":{"Service":"bedrock-agentcore.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Service role for Bedrock AgentCore Gateway api-gateway-target-integ-test"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"execute-api:Invoke","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"TestRestApiB7B4EFDA"},"/prod/*/*"]]}}],"Version":"2012-10-17"},"policyName":"TestGatewayServiceRoleDefaultPolicyCFEDA895","roles":[{"Ref":"TestGatewayServiceRole426CDA0F"}]}}}}}}},"UserPool":{"id":"UserPool","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_phone_number","priority":1},{"name":"verified_email","priority":2}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","smsVerificationMessage":"The verification code to your new account is {####}","usernameConfiguration":{"caseSensitive":false},"verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"ResourceServer":{"id":"ResourceServer","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/ResourceServer","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolResourceServer","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/ResourceServer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolResourceServer","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolResourceServer","aws:cdk:cloudformation:props":{"identifier":"BedrockAgentCoreApiGatewayTargetIntegTest-TestGateway-86DC0FD9","name":"BedrockAgentCoreApiGatewayTargetIntegTest-TestGateway-86DC0FD9","scopes":[{"scopeName":"read","scopeDescription":"Read access to gateway tools"},{"scopeName":"write","scopeDescription":"Write access to gateway tools"}],"userPoolId":{"Ref":"TestGatewayUserPool545AA49A"}}}}}},"DefaultClient":{"id":"DefaultClient","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/DefaultClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/DefaultClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["client_credentials"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":[{"Fn::Join":["",[{"Ref":"TestGatewayUserPoolResourceServer7A34B6B2"},"/read"]]},{"Fn::Join":["",[{"Ref":"TestGatewayUserPoolResourceServer7A34B6B2"},"/write"]]}],"generateSecret":true,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"TestGatewayUserPool545AA49A"}}}}}},"Domain":{"id":"Domain","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/Domain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/UserPool/Domain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"bedrockagentcoreapigatewaytargetintegtest-testgateway-86dc0fd9","userPoolId":{"Ref":"TestGatewayUserPool545AA49A"}}}}}}}},"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestGateway/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrockagentcore.CfnGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::BedrockAgentCore::Gateway","aws:cdk:cloudformation:props":{"authorizerConfiguration":{"customJwtAuthorizer":{"discoveryUrl":{"Fn::Join":["",["https://cognito-idp.",{"Ref":"AWS::Region"},".amazonaws.com/",{"Ref":"TestGatewayUserPool545AA49A"},"/.well-known/openid-configuration"]]},"allowedClients":[{"Ref":"TestGatewayUserPoolDefaultClient3AC9C728"}]}},"authorizerType":"CUSTOM_JWT","description":"Gateway for testing API Gateway target integration","name":"api-gateway-target-integ-test","protocolConfiguration":{"mcp":{"instructions":"Default gateway to connect to external MCP tools","searchType":"SEMANTIC","supportedVersions":["2025-03-26"]}},"protocolType":"MCP","roleArn":{"Fn::GetAtt":["TestGatewayServiceRole426CDA0F","Arn"]}}}}}},"BackendFunction":{"id":"BackendFunction","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BackendFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BackendFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BackendFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BackendFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n    exports.handler = async (event) => {\n      console.log('Backend API called:', JSON.stringify(event));\n\n      const path = event.path || event.resource;\n      const method = event.httpMethod;\n\n      // Handle different paths\n      if (path === '/pets' && method === 'GET') {\n        return {\n          statusCode: 200,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            pets: [\n              { id: '1', name: 'Fluffy', type: 'cat' },\n              { id: '2', name: 'Buddy', type: 'dog' }\n            ]\n          })\n        };\n      }\n\n      if (path.startsWith('/pets/') && method === 'GET') {\n        const petId = path.split('/')[2];\n        return {\n          statusCode: 200,\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            id: petId,\n            name: 'Pet ' + petId,\n            type: 'unknown'\n          })\n        };\n      }\n\n      return {\n        statusCode: 404,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ message: 'Not found' })\n      };\n    };\n  "},"description":"Backend Lambda for API Gateway integration test","functionName":"integ-test-apigateway-backend","handler":"index.handler","role":{"Fn::GetAtt":["BackendFunctionServiceRoleCA938F8D","Arn"]},"runtime":"nodejs22.x"}}},"LogGroup":{"id":"LogGroup","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BackendFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BackendFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"BackendFunction63314140"}]]},"retentionInDays":731}}}}}}},"TestRestApi":{"id":"TestRestApi","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"REST API for testing Gateway API Gateway target integration","name":"integ-test-api-gateway-target"}}},"Deployment":{"id":"Deployment","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"REST API for testing Gateway API Gateway target integration","restApiId":{"Ref":"TestRestApiB7B4EFDA"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"TestRestApiDeploymentE31B12656be0631da8d65a9595d57514d0cdd866"},"restApiId":{"Ref":"TestRestApiB7B4EFDA"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Default":{"id":"Default","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"0.0.0"},"children":{"pets":{"id":"pets","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["TestRestApiB7B4EFDA","RootResourceId"]},"pathPart":"pets","restApiId":{"Ref":"TestRestApiB7B4EFDA"}}}},"GET":{"id":"GET","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0"},"children":{"ApiPermission.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets":{"id":"ApiPermission.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/GET/ApiPermission.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"TestRestApiB7B4EFDA"},"/",{"Ref":"TestRestApiDeploymentStageprod714523E6"},"/GET/pets"]]}}}},"ApiPermission.Test.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets":{"id":"ApiPermission.Test.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/GET/ApiPermission.Test.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"TestRestApiB7B4EFDA"},"/test-invoke-stage/GET/pets"]]}}}},"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"AWS_IAM","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"methodResponses":[{"statusCode":"200","responseModels":{"application/json":{"Ref":"TestRestApiResponseModel8CA1958B"}}}],"operationName":"listPets","resourceId":{"Ref":"TestRestApipetsFDF5FF2B"},"restApiId":{"Ref":"TestRestApiB7B4EFDA"}}}}}},"{petId}":{"id":"{petId}","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/{petId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/{petId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"TestRestApipetsFDF5FF2B"},"pathPart":"{petId}","restApiId":{"Ref":"TestRestApiB7B4EFDA"}}}},"GET":{"id":"GET","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/{petId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0"},"children":{"ApiPermission.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets.{petId}":{"id":"ApiPermission.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets.{petId}","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/{petId}/GET/ApiPermission.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets.{petId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"TestRestApiB7B4EFDA"},"/",{"Ref":"TestRestApiDeploymentStageprod714523E6"},"/GET/pets/*"]]}}}},"ApiPermission.Test.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets.{petId}":{"id":"ApiPermission.Test.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets.{petId}","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/{petId}/GET/ApiPermission.Test.BedrockAgentCoreApiGatewayTargetIntegTestTestRestApi68EAA9D5.GET..pets.{petId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"TestRestApiB7B4EFDA"},"/test-invoke-stage/GET/pets/*"]]}}}},"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/Default/pets/{petId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"AWS_IAM","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["BackendFunction63314140","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"methodResponses":[{"statusCode":"200","responseModels":{"application/json":{"Ref":"TestRestApiPetResponseModel6088CBBF"}}}],"operationName":"getPetById","resourceId":{"Ref":"TestRestApipetspetId7E336794"},"restApiId":{"Ref":"TestRestApiB7B4EFDA"}}}}}}}}}}}},"ResponseModel":{"id":"ResponseModel","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/ResponseModel","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Model","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/ResponseModel/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnModel","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Model","aws:cdk:cloudformation:props":{"contentType":"application/json","name":"PetsResponse","restApiId":{"Ref":"TestRestApiB7B4EFDA"},"schema":{"type":"object","properties":{"pets":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"}}}}},"$schema":"http://json-schema.org/draft-04/schema#"}}}}}},"PetResponseModel":{"id":"PetResponseModel","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/PetResponseModel","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Model","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/TestRestApi/PetResponseModel/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnModel","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Model","aws:cdk:cloudformation:props":{"contentType":"application/json","name":"PetResponse","restApiId":{"Ref":"TestRestApiB7B4EFDA"},"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"}},"$schema":"http://json-schema.org/draft-04/schema#"}}}}}}}},"ApiGatewayTarget":{"id":"ApiGatewayTarget","path":"BedrockAgentCoreApiGatewayTargetIntegTest/ApiGatewayTarget","constructInfo":{"fqn":"@aws-cdk/aws-bedrock-agentcore-alpha.GatewayTarget","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/ApiGatewayTarget/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrockagentcore.CfnGatewayTarget","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::BedrockAgentCore::GatewayTarget","aws:cdk:cloudformation:props":{"description":"Target created with API Gateway REST API","gatewayIdentifier":{"Fn::GetAtt":["TestGateway7394A071","GatewayIdentifier"]},"name":"api-gateway-via-static","targetConfiguration":{"mcp":{"apiGateway":{"restApiId":{"Ref":"TestRestApiB7B4EFDA"},"stage":"prod","apiGatewayToolConfiguration":{"toolFilters":[{"filterPath":"/pets","methods":["GET"]},{"filterPath":"/pets/{petId}","methods":["GET"]}]}}}}}}}}},"ApiGatewayTargetConstructor":{"id":"ApiGatewayTargetConstructor","path":"BedrockAgentCoreApiGatewayTargetIntegTest/ApiGatewayTargetConstructor","constructInfo":{"fqn":"@aws-cdk/aws-bedrock-agentcore-alpha.GatewayTarget","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"BedrockAgentCoreApiGatewayTargetIntegTest/ApiGatewayTargetConstructor/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_bedrockagentcore.CfnGatewayTarget","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::BedrockAgentCore::GatewayTarget","aws:cdk:cloudformation:props":{"description":"Target created via constructor with ApiGatewayTargetConfiguration","gatewayIdentifier":{"Fn::GetAtt":["TestGateway7394A071","GatewayIdentifier"]},"metadataConfiguration":{"allowedQueryParameters":["limit","offset"],"allowedRequestHeaders":["X-Request-ID"],"allowedResponseHeaders":["X-Custom-Header"]},"name":"api-gateway-via-constructor","targetConfiguration":{"mcp":{"apiGateway":{"restApiId":{"Ref":"TestRestApiB7B4EFDA"},"stage":"prod","apiGatewayToolConfiguration":{"toolFilters":[{"filterPath":"/pets/*","methods":["GET"]}]},"metadataConfiguration":{"allowedQueryParameters":["limit","offset"],"allowedRequestHeaders":["X-Request-ID"],"allowedResponseHeaders":["X-Custom-Header"]}}}}}}}}},"GatewayId":{"id":"GatewayId","path":"BedrockAgentCoreApiGatewayTargetIntegTest/GatewayId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"RestApiId":{"id":"RestApiId","path":"BedrockAgentCoreApiGatewayTargetIntegTest/RestApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"RestApiUrl":{"id":"RestApiUrl","path":"BedrockAgentCoreApiGatewayTargetIntegTest/RestApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"ApiGatewayTargetId":{"id":"ApiGatewayTargetId","path":"BedrockAgentCoreApiGatewayTargetIntegTest/ApiGatewayTargetId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"ApiGatewayTarget2Id":{"id":"ApiGatewayTarget2Id","path":"BedrockAgentCoreApiGatewayTargetIntegTest/ApiGatewayTarget2Id","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BedrockAgentCoreApiGatewayTargetIntegTest/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BedrockAgentCoreApiGatewayTargetIntegTest/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"ApiGatewayTargetIntegTest":{"id":"ApiGatewayTargetIntegTest","path":"ApiGatewayTargetIntegTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"ApiGatewayTargetIntegTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"ApiGatewayTargetIntegTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"DeployAssert":{"id":"DeployAssert","path":"ApiGatewayTargetIntegTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"ApiGatewayTargetIntegTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApiGatewayTargetIntegTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}