"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const lambda = require("aws-cdk-lib/aws-lambda");
const cdk = require("aws-cdk-lib");
const integ = require("@aws-cdk/integ-tests-alpha");
const config = require("aws-cdk-lib/aws-config");
const app = new cdk.App();
const stack = new cdk.Stack(app, 'aws-cdk-config-rule-scoped-integ', {});
const fn = new lambda.Function(stack, 'CustomFunction', {
    code: lambda.AssetCode.fromInline('exports.handler = (event) => console.log(event);'),
    handler: 'index.handler',
    runtime: lambda.Runtime.NODEJS_14_X,
});
new config.CustomRule(stack, 'Custom', {
    lambdaFunction: fn,
    periodic: true,
    ruleScope: config.RuleScope.fromResources([config.ResourceType.EC2_INSTANCE]),
});
new integ.IntegTest(app, 'aws-cdk-config-rule-integ', {
    testCases: [stack],
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcuc2NvcGVkLXJ1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnRlZy5zY29wZWQtcnVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUFpRDtBQUNqRCxtQ0FBbUM7QUFDbkMsb0RBQW9EO0FBQ3BELGlEQUFpRDtBQUVqRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQixNQUFNLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLGtDQUFrQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXpFLE1BQU0sRUFBRSxHQUFHLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUU7SUFDdEQsSUFBSSxFQUFFLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGtEQUFrRCxDQUFDO0lBQ3JGLE9BQU8sRUFBRSxlQUFlO0lBQ3hCLE9BQU8sRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVc7Q0FDcEMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUU7SUFDckMsY0FBYyxFQUFFLEVBQUU7SUFDbEIsUUFBUSxFQUFFLElBQUk7SUFDZCxTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO0NBQzlFLENBQUMsQ0FBQztBQUVILElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsMkJBQTJCLEVBQUU7SUFDcEQsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDO0NBQ25CLENBQUMsQ0FBQztBQUNILEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGxhbWJkYSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtbGFtYmRhJztcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgKiBhcyBpbnRlZyBmcm9tICdAYXdzLWNkay9pbnRlZy10ZXN0cy1hbHBoYSc7XG5pbXBvcnQgKiBhcyBjb25maWcgZnJvbSAnYXdzLWNkay1saWIvYXdzLWNvbmZpZyc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbmNvbnN0IHN0YWNrID0gbmV3IGNkay5TdGFjayhhcHAsICdhd3MtY2RrLWNvbmZpZy1ydWxlLXNjb3BlZC1pbnRlZycsIHt9KTtcblxuY29uc3QgZm4gPSBuZXcgbGFtYmRhLkZ1bmN0aW9uKHN0YWNrLCAnQ3VzdG9tRnVuY3Rpb24nLCB7XG4gIGNvZGU6IGxhbWJkYS5Bc3NldENvZGUuZnJvbUlubGluZSgnZXhwb3J0cy5oYW5kbGVyID0gKGV2ZW50KSA9PiBjb25zb2xlLmxvZyhldmVudCk7JyksXG4gIGhhbmRsZXI6ICdpbmRleC5oYW5kbGVyJyxcbiAgcnVudGltZTogbGFtYmRhLlJ1bnRpbWUuTk9ERUpTXzE0X1gsXG59KTtcblxubmV3IGNvbmZpZy5DdXN0b21SdWxlKHN0YWNrLCAnQ3VzdG9tJywge1xuICBsYW1iZGFGdW5jdGlvbjogZm4sXG4gIHBlcmlvZGljOiB0cnVlLFxuICBydWxlU2NvcGU6IGNvbmZpZy5SdWxlU2NvcGUuZnJvbVJlc291cmNlcyhbY29uZmlnLlJlc291cmNlVHlwZS5FQzJfSU5TVEFOQ0VdKSxcbn0pO1xuXG5uZXcgaW50ZWcuSW50ZWdUZXN0KGFwcCwgJ2F3cy1jZGstY29uZmlnLXJ1bGUtaW50ZWcnLCB7XG4gIHRlc3RDYXNlczogW3N0YWNrXSxcbn0pO1xuYXBwLnN5bnRoKCk7Il19