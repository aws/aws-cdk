{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"aws-cdk-integ-test-service-role-for-actions":{"id":"aws-cdk-integ-test-service-role-for-actions","path":"aws-cdk-integ-test-service-role-for-actions","children":{"MyRepo":{"id":"MyRepo","path":"aws-cdk-integ-test-service-role-for-actions/MyRepo","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/MyRepo/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CodeCommit::Repository","aws:cdk:cloudformation:props":{"repositoryName":"my-repo"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codecommit.CfnRepository","version":"0.0.0"}},"awscdkintegtestserviceroleforactionsintegtestdefaultrolepipelinePipelineEECF7ECD-main-EventRule":{"id":"awscdkintegtestserviceroleforactionsintegtestdefaultrolepipelinePipelineEECF7ECD-main-EventRule","path":"aws-cdk-integ-test-service-role-for-actions/MyRepo/awscdkintegtestserviceroleforactionsintegtestdefaultrolepipelinePipelineEECF7ECD-main-EventRule","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/MyRepo/awscdkintegtestserviceroleforactionsintegtestdefaultrolepipelinePipelineEECF7ECD-main-EventRule/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"eventPattern":{"source":["aws.codecommit"],"resources":[{"Fn::GetAtt":["MyRepoF4F48043","Arn"]}],"detail-type":["CodeCommit Repository State Change"],"detail":{"event":["referenceCreated","referenceUpdated"],"referenceName":["main"]}},"state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codepipeline:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"integtestdefaultrolepipelinePipeline4249AF12"}]]},"roleArn":{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineEventsRoleF8E91780","Arn"]}}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"0.0.0","metadata":[{"crossStackScope":"*"},{"addEventPattern":["*"]},{"addEventPattern":[{"source":"*","resources":"*"}]},{"addTarget":[{}]},{"addEventPattern":[{"detailType":"*"}]},{"addEventPattern":[{"detail":"*"}]},{"addEventPattern":[{"detail":"*"}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codecommit.Repository","version":"0.0.0","metadata":[{"repositoryName":"*"}]}},"pipeline-role":{"id":"pipeline-role","path":"aws-cdk-integ-test-service-role-for-actions/pipeline-role","children":{"Importpipeline-role":{"id":"Importpipeline-role","path":"aws-cdk-integ-test-service-role-for-actions/pipeline-role/Importpipeline-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/pipeline-role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"},"description":"Service role for CodePipeline with CodeBuild, S3, and CodeDeploy permissions"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-role-for-actions/pipeline-role/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/pipeline-role/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:RetryBuild","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":"*"},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},"/*"]]}]},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":[{"Fn::GetAtt":["integtestdefaultrolepipelineCodeBuildActionRole22BD0774","Arn"]},{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineSourceCodeCommitCodePipelineActionRole9D41FA4D","Arn"]}]}],"Version":"2012-10-17"},"policyName":"pipelineroleDefaultPolicyDAB21D7B","roles":[{"Ref":"pipelinerole8D2EF646"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"description":"*"},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"integ-test-default-role-pipeline":{"id":"integ-test-default-role-pipeline","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline","children":{"Pipeline":{"id":"Pipeline","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline","children":{"ArtifactsBucket":{"id":"ArtifactsBucket","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/ArtifactsBucket","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/ArtifactsBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"}},"Policy":{"id":"Policy","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/ArtifactsBucket/Policy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/ArtifactsBucket/Policy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"integtestdefaultrolepipelinePipelineArtifactsBucket5312D294"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"0.0.0","metadata":[{"bucket":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0","metadata":[{"bucketName":"*","encryptionKey":"*","encryption":"KMS_MANAGED","enforceSSL":true,"blockPublicAccess":"*","removalPolicy":"retain"}]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"integtestdefaultrolepipelinePipelineArtifactsBucket5312D294"}},"name":"integ-test-default-role-pipeline","pipelineType":"V1","restartExecutionOnUpdate":true,"roleArn":{"Fn::GetAtt":["pipelinerole8D2EF646","Arn"]},"stages":[{"name":"Source","actions":[{"name":{"Fn::GetAtt":["MyRepoF4F48043","Name"]},"outputArtifacts":[{"name":"c8726e9f84b0bdb2216ad5ad77e50634c9448c80e1_Source"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"CodeCommit"},"configuration":{"RepositoryName":{"Fn::GetAtt":["MyRepoF4F48043","Name"]},"BranchName":"main","PollForSourceChanges":false},"runOrder":1,"roleArn":{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineSourceCodeCommitCodePipelineActionRole9D41FA4D","Arn"]}}]},{"name":"Build","actions":[{"name":"Synth","inputArtifacts":[{"name":"c8726e9f84b0bdb2216ad5ad77e50634c9448c80e1_Source"}],"outputArtifacts":[{"name":"Synth_Output"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProject923C6845"}},"runOrder":1,"roleArn":{"Fn::GetAtt":["integtestdefaultrolepipelineCodeBuildActionRole22BD0774","Arn"]}}]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"0.0.0"}},"Source":{"id":"Source","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source","children":{"CodeCommit":{"id":"CodeCommit","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source/CodeCommit","children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source/CodeCommit/CodePipelineActionRole","children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source/CodeCommit/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source/CodeCommit/CodePipelineActionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source/CodeCommit/CodePipelineActionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Source/CodeCommit/CodePipelineActionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},"/*"]]}]},{"Action":["codecommit:CancelUploadArchive","codecommit:GetBranch","codecommit:GetCommit","codecommit:GetUploadArchiveStatus","codecommit:UploadArchive"],"Effect":"Allow","Resource":{"Fn::GetAtt":["MyRepoF4F48043","Arn"]}}],"Version":"2012-10-17"},"policyName":"integtestdefaultrolepipelinePipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicyAFB49BF9","roles":[{"Ref":"integtestdefaultrolepipelinePipelineSourceCodeCommitCodePipelineActionRole9D41FA4D"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"EventsRole":{"id":"EventsRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/EventsRole","children":{"ImportEventsRole":{"id":"ImportEventsRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/EventsRole/ImportEventsRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/EventsRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/EventsRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/EventsRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"codepipeline:StartPipelineExecution","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codepipeline:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"integtestdefaultrolepipelinePipeline4249AF12"}]]}}],"Version":"2012-10-17"},"policyName":"integtestdefaultrolepipelinePipelineEventsRoleDefaultPolicy53B2454B","roles":[{"Ref":"integtestdefaultrolepipelinePipelineEventsRoleF8E91780"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"Build":{"id":"Build","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build","children":{"Synth":{"id":"Synth","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth","children":{"CdkBuildProject":{"id":"CdkBuildProject","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject","children":{"Role":{"id":"Role","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject/Role","children":{"ImportRole":{"id":"ImportRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject/Role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject/Role/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject/Role/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProject923C6845"},":*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProject923C6845"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProject923C6845"},"-*"]]}},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineArtifactsBucket5312D294","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProjectRoleDefaultPolicyA1FF9804","roles":[{"Ref":"integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProjectRole583B801B"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/Pipeline/Build/Synth/CdkBuildProject/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"LOCAL","modes":["LOCAL_DOCKER_LAYER_CACHE"]},"description":"Pipeline step aws-cdk-integ-test-service-role-for-actions/Pipeline/Build/Synth","encryptionKey":"alias/aws/s3","environment":{"type":"ARM_CONTAINER","image":"aws/codebuild/amazonlinux2-aarch64-standard:3.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProjectRole583B801B","Arn"]},"source":{"type":"CODEPIPELINE","buildSpec":"{\n  \"version\": \"0.2\",\n  \"phases\": {\n    \"build\": {\n      \"commands\": [\n        \"npm ci\",\n        \"npm run build\",\n        \"npx cdk synth\"\n      ]\n    }\n  },\n  \"artifacts\": {\n    \"base-directory\": \"cdk.out\",\n    \"files\": \"**/*\"\n  }\n}"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"0.0.0","metadata":[{},{},{}]}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"0.0.0","metadata":[{"pipelineName":"*","pipelineType":"V1","crossAccountKeys":false,"crossRegionReplicationBuckets":"*","reuseCrossRegionSupportStacks":"*","restartExecutionOnUpdate":true,"role":"*","enableKeyRotation":"*","artifactBucket":"*"},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]}]}},"CodeBuildActionRole":{"id":"CodeBuildActionRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/CodeBuildActionRole","children":{"ImportCodeBuildActionRole":{"id":"ImportCodeBuildActionRole","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/CodeBuildActionRole/ImportCodeBuildActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/CodeBuildActionRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["pipelinerole8D2EF646","Arn"]}}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/CodeBuildActionRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-role-for-actions/integ-test-default-role-pipeline/CodeBuildActionRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["integtestdefaultrolepipelinePipelineBuildSynthCdkBuildProject923C6845","Arn"]}}],"Version":"2012-10-17"},"policyName":"integtestdefaultrolepipelineCodeBuildActionRoleDefaultPolicy33F357E3","roles":[{"Ref":"integtestdefaultrolepipelineCodeBuildActionRole22BD0774"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":"*"},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.pipelines.CodePipeline","version":"0.0.0"}},"Exports":{"id":"Exports","path":"aws-cdk-integ-test-service-role-for-actions/Exports","children":{"Output{\"Fn::GetAtt\":[\"pipelinerole8D2EF646\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"pipelinerole8D2EF646\",\"Arn\"]}","path":"aws-cdk-integ-test-service-role-for-actions/Exports/Output{\"Fn::GetAtt\":[\"pipelinerole8D2EF646\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-integ-test-service-role-for-actions/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-integ-test-service-role-for-actions/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"}},"codepipeline-integ-test":{"id":"codepipeline-integ-test","path":"codepipeline-integ-test","children":{"DefaultTest":{"id":"DefaultTest","path":"codepipeline-integ-test/DefaultTest","children":{"Default":{"id":"Default","path":"codepipeline-integ-test/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"codepipeline-integ-test/DefaultTest/DeployAssert","children":{"AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d":{"id":"AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d","children":{"SdkProvider":{"id":"SdkProvider","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d/SdkProvider","children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"0.0.0"}},"Default":{"id":"Default","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d/Default","children":{"Default":{"id":"Default","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d/Default/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*","*","*"]}},"AssertionResults":{"id":"AssertionResults","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline2be67dab510b87d97c3fb7976638433d/AssertionResults","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AwsApiCall","version":"0.0.0"}},"SingletonFunction1488541a7b23466481b69b4408076b81":{"id":"SingletonFunction1488541a7b23466481b69b4408076b81","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81","children":{"Staging":{"id":"Staging","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"codepipeline-integ-test/DefaultTest/DeployAssert/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"0.0.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"codepipeline-integ-test/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"codepipeline-integ-test/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"}}}