{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"test-apigateway-spec-restapi":{"id":"test-apigateway-spec-restapi","path":"test-apigateway-spec-restapi","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"my-api":{"id":"my-api","path":"test-apigateway-spec-restapi/my-api","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.SpecRestApi","version":"0.0.0","metadata":[{"apiDefinition":"*","disableExecuteApiEndpoint":true,"minCompressionSize":"*","retainDeployments":true,"cloudWatchRole":true,"deployOptions":{"cacheClusterEnabled":true,"stageName":"*","description":"*","loggingLevel":"INFO","dataTraceEnabled":true,"methodOptions":"*"},"mode":"merge"}]},"children":{"APIDefinition":{"id":"APIDefinition","path":"test-apigateway-spec-restapi/my-api/APIDefinition","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"test-apigateway-spec-restapi/my-api/APIDefinition/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"test-apigateway-spec-restapi/my-api/APIDefinition/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"bodyS3Location":{"bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"key":"68497ac876de4e963fc8f7b5f1b28844c18ecc95e3f7c6e9e0bf250e03c037fb.yaml"},"disableExecuteApiEndpoint":true,"minimumCompressionSize":1024,"mode":"merge","name":"my-api"}}},"Default":{"id":"Default","path":"test-apigateway-spec-restapi/my-api/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"0.0.0","metadata":["*"]},"children":{"v1":{"id":"v1","path":"test-apigateway-spec-restapi/my-api/Default/v1","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["myapi4C7BF186","RootResourceId"]},"pathPart":"v1","restApiId":{"Ref":"myapi4C7BF186"}}}},"toys":{"id":"toys","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"myapiv113487378"},"pathPart":"toys","restApiId":{"Ref":"myapi4C7BF186"}}}},"GET":{"id":"GET","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"apiKeyRequired":true}}]},"children":{"ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.toys":{"id":"ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.toys","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/GET/ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.toys","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"myapi4C7BF186"},"/",{"Ref":"myapiDeploymentStagebeta96434BEB"},"/GET/v1/toys"]]}}}},"ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.toys":{"id":"ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.toys","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/GET/ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.toys","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"myapi4C7BF186"},"/test-invoke-stage/GET/v1/toys"]]}}}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":true,"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"myapiv1toysA55FCBC4"},"restApiId":{"Ref":"myapi4C7BF186"}}}}}},"POST":{"id":"POST","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"MOCK"},"resourceId":{"Ref":"myapiv1toysA55FCBC4"},"restApiId":{"Ref":"myapi4C7BF186"}}}}}},"PUT":{"id":"PUT","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/toys/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"MOCK"},"resourceId":{"Ref":"myapiv1toysA55FCBC4"},"restApiId":{"Ref":"myapi4C7BF186"}}}}}}}},"appliances":{"id":"appliances","path":"test-apigateway-spec-restapi/my-api/Default/v1/appliances","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/appliances/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"myapiv113487378"},"pathPart":"appliances","restApiId":{"Ref":"myapi4C7BF186"}}}},"GET":{"id":"GET","path":"test-apigateway-spec-restapi/my-api/Default/v1/appliances/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/appliances/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"MOCK"},"resourceId":{"Ref":"myapiv1appliances507FEFF4"},"restApiId":{"Ref":"myapi4C7BF186"}}}}}}}},"books":{"id":"books","path":"test-apigateway-spec-restapi/my-api/Default/v1/books","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"myapiv113487378"},"pathPart":"books","restApiId":{"Ref":"myapi4C7BF186"}}}},"GET":{"id":"GET","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.books":{"id":"ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.books","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/GET/ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.books","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"myapi4C7BF186"},"/",{"Ref":"myapiDeploymentStagebeta96434BEB"},"/GET/v1/books"]]}}}},"ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.books":{"id":"ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.books","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/GET/ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.GET..v1.books","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"myapi4C7BF186"},"/test-invoke-stage/GET/v1/books"]]}}}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"myapiv1books1D4BE6C1"},"restApiId":{"Ref":"myapi4C7BF186"}}}}}},"POST":{"id":"POST","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.POST..v1.books":{"id":"ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.POST..v1.books","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/POST/ApiPermission.testapigatewayspecrestapimyapiA4A36FD7.POST..v1.books","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"myapi4C7BF186"},"/",{"Ref":"myapiDeploymentStagebeta96434BEB"},"/POST/v1/books"]]}}}},"ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.POST..v1.books":{"id":"ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.POST..v1.books","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/POST/ApiPermission.Test.testapigatewayspecrestapimyapiA4A36FD7.POST..v1.books","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"myapi4C7BF186"},"/test-invoke-stage/POST/v1/books"]]}}}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Default/v1/books/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["MyHandler6B74D312","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"myapiv1books1D4BE6C1"},"restApiId":{"Ref":"myapi4C7BF186"}}}}}}}}}}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"test-apigateway-spec-restapi/my-api/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"applyRemovalPolicy":["retain"]}]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"test-apigateway-spec-restapi/my-api/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"test-apigateway-spec-restapi/my-api/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["myapiCloudWatchRole095452E5","Arn"]}}}},"Deployment":{"id":"Deployment","path":"test-apigateway-spec-restapi/my-api/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"0.0.0","metadata":[{"description":"*","api":"*","retainDeployments":true},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"beta stage","restApiId":{"Ref":"myapi4C7BF186"}}}}}},"DeploymentStage.beta":{"id":"DeploymentStage.beta","path":"test-apigateway-spec-restapi/my-api/DeploymentStage.beta","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"0.0.0","metadata":[{"deployment":"*","cacheClusterEnabled":true,"stageName":"*","description":"*","loggingLevel":"INFO","dataTraceEnabled":true,"methodOptions":"*"}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/DeploymentStage.beta/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"cacheClusterEnabled":true,"cacheClusterSize":"0.5","deploymentId":{"Ref":"myapiDeployment92F2CB491b0e40e722acabc99cc39958c957686d"},"description":"beta stage","methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO"},{"httpMethod":"GET","resourcePath":"/~1api~1appliances","cachingEnabled":true,"dataTraceEnabled":false}],"restApiId":{"Ref":"myapi4C7BF186"},"stageName":"beta"}}}}},"Endpoint":{"id":"Endpoint","path":"test-apigateway-spec-restapi/my-api/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"ApiKey":{"id":"ApiKey","path":"test-apigateway-spec-restapi/my-api/ApiKey","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ApiKey","version":"0.0.0","metadata":[{"stages":["*"]}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/ApiKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnApiKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::ApiKey","aws:cdk:cloudformation:props":{"enabled":true,"stageKeys":[{"restApiId":{"Ref":"myapi4C7BF186"},"stageName":{"Ref":"myapiDeploymentStagebeta96434BEB"}}]}}}}},"UsagePlan":{"id":"UsagePlan","path":"test-apigateway-spec-restapi/my-api/UsagePlan","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.UsagePlan","version":"0.0.0","metadata":[{"name":"*","apiKey":"*","description":"*","throttle":{"rateLimit":"*"},"quota":{"limit":"*","period":"MONTH"}},{"addApiStage":[{"throttle":[{"method":"*","throttle":{"rateLimit":"*","burstLimit":"*"}}]}]}]},"children":{"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/my-api/UsagePlan/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlan","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlan","aws:cdk:cloudformation:props":{"apiStages":[{"apiId":{"Ref":"myapi4C7BF186"},"stage":{"Ref":"myapiDeploymentStagebeta96434BEB"},"throttle":{"/v1/toys/GET":{"burstLimit":2,"rateLimit":10}}}],"description":"Free tier monthly usage plan","quota":{"limit":10000,"period":"MONTH"},"throttle":{"rateLimit":5},"usagePlanName":"Basic"}}},"UsagePlanKeyResource:testapigatewayspecrestapimyapiApiKey950FF760":{"id":"UsagePlanKeyResource:testapigatewayspecrestapimyapiApiKey950FF760","path":"test-apigateway-spec-restapi/my-api/UsagePlan/UsagePlanKeyResource:testapigatewayspecrestapimyapiApiKey950FF760","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlanKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlanKey","aws:cdk:cloudformation:props":{"keyId":{"Ref":"myapiApiKey43446CCF"},"keyType":"API_KEY","usagePlanId":{"Ref":"myapiUsagePlan56F9C4F2"}}}}}}}},"MyHandler":{"id":"MyHandler","path":"test-apigateway-spec-restapi/MyHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"runtime":"*","code":"*","handler":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"test-apigateway-spec-restapi/MyHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"test-apigateway-spec-restapi/MyHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/MyHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"test-apigateway-spec-restapi/MyHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"exports.handler = function handlerCode(event, _, callback) {\n            return callback(undefined, {\n                isBase64Encoded: false,\n                statusCode: 200,\n                headers: { 'content-type': 'application/json' },\n                body: JSON.stringify(event),\n            });\n        }"},"handler":"index.handler","role":{"Fn::GetAtt":["MyHandlerServiceRoleFFA06653","Arn"]},"runtime":"nodejs18.x"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"test-apigateway-spec-restapi/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"test-apigateway-spec-restapi/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"apigateway-spec-restapi":{"id":"apigateway-spec-restapi","path":"apigateway-spec-restapi","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"apigateway-spec-restapi/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"apigateway-spec-restapi/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"apigateway-spec-restapi/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"apigateway-spec-restapi/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"apigateway-spec-restapi/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}