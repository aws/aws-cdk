{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"SNSDataProtectionInteg":{"id":"SNSDataProtectionInteg","path":"SNSDataProtectionInteg","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"DataProtectionLogGroup":{"id":"DataProtectionLogGroup","path":"SNSDataProtectionInteg/DataProtectionLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":[{"logGroupName":"*","removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"SNSDataProtectionInteg/DataProtectionLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/vendedlogs/sns-data-protection","retentionInDays":731}}}}},"ProtectedTopic":{"id":"ProtectedTopic","path":"SNSDataProtectionInteg/ProtectedTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"0.0.0","metadata":[{"topicName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SNSDataProtectionInteg/ProtectedTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"dataProtectionPolicy":{"Name":"ComprehensiveProtectionPolicy","Version":"2021-06-01","Statement":[{"DataDirection":"Inbound","Principal":["*"],"DataIdentifier":["arn:aws:dataprotection::aws:data-identifier/Name","arn:aws:dataprotection::aws:data-identifier/EmailAddress","arn:aws:dataprotection::aws:data-identifier/Address"],"Operation":{"Audit":{"SampleRate":"99","FindingsDestination":{"CloudWatchLogs":{"LogGroup":{"Ref":"DataProtectionLogGroup833D047D"}}}}},"Sid":"AuditPII"},{"DataDirection":"Inbound","Principal":["*"],"DataIdentifier":["arn:aws:dataprotection::aws:data-identifier/CreditCardNumber","arn:aws:dataprotection::aws:data-identifier/CreditCardExpiration","arn:aws:dataprotection::aws:data-identifier/CreditCardSecurityCode"],"Operation":{"Deidentify":{"MaskConfig":{"MaskWithCharacter":"#"}}},"Sid":"MaskFinancialData"},{"DataDirection":"Inbound","Principal":["*"],"DataIdentifier":["EmployeeID","CustomerID"],"Operation":{"Deidentify":{"RedactConfig":{}}},"Sid":"RedactCustomPatterns"},{"DataDirection":"Inbound","Principal":["*"],"DataIdentifier":["arn:aws:dataprotection::aws:data-identifier/AwsSecretKey","arn:aws:dataprotection::aws:data-identifier/PkcsPrivateKey"],"Operation":{"Deny":{}},"Sid":"BlockCredentials"}],"Description":"SNS data protection policy integration test","Configuration":{"CustomDataIdentifier":[{"Name":"EmployeeID","Regex":"EMP-[0-9]{6}"},{"Name":"CustomerID","Regex":"CUST-[0-9]{8}"}]}},"topicName":"topic-data-protection"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SNSDataProtectionInteg/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SNSDataProtectionInteg/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"SNSDataProtectionTest":{"id":"SNSDataProtectionTest","path":"SNSDataProtectionTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"SNSDataProtectionTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"SNSDataProtectionTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"SNSDataProtectionTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"SNSDataProtectionTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SNSDataProtectionTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}