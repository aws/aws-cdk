{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"NlbSecurityGroupStack":{"id":"NlbSecurityGroupStack","path":"NlbSecurityGroupStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Stack":{"id":"Stack","path":"NlbSecurityGroupStack/Stack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"NlbSecurityGroupStack/Stack/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"NlbSecurityGroupStack/Stack"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"NlbSecurityGroupStack/Stack/PublicSubnet1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*"]},"children":{"Subnet":{"id":"Subnet","path":"NlbSecurityGroupStack/Stack/PublicSubnet1/Subnet","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/17","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"NlbSecurityGroupStack/Stack/PublicSubnet1"}],"vpcId":{"Ref":"Stack8A423254"}}}},"Acl":{"id":"Acl","path":"NlbSecurityGroupStack/Stack/PublicSubnet1/Acl","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSecurityGroupStack/Stack/PublicSubnet1/RouteTable","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSecurityGroupStack/Stack/PublicSubnet1"}],"vpcId":{"Ref":"Stack8A423254"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSecurityGroupStack/Stack/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackPublicSubnet1RouteTable5057189D"},"subnetId":{"Ref":"StackPublicSubnet1Subnet0AD81D22"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NlbSecurityGroupStack/Stack/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"StackIGW2F0A1126"},"routeTableId":{"Ref":"StackPublicSubnet1RouteTable5057189D"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"NlbSecurityGroupStack/Stack/IsolatedSubnet1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Subnet":{"id":"Subnet","path":"NlbSecurityGroupStack/Stack/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/17","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"NlbSecurityGroupStack/Stack/IsolatedSubnet1"}],"vpcId":{"Ref":"Stack8A423254"}}}},"Acl":{"id":"Acl","path":"NlbSecurityGroupStack/Stack/IsolatedSubnet1/Acl","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSecurityGroupStack/Stack/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSecurityGroupStack/Stack/IsolatedSubnet1"}],"vpcId":{"Ref":"Stack8A423254"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSecurityGroupStack/Stack/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackIsolatedSubnet1RouteTable2D6067DB"},"subnetId":{"Ref":"StackIsolatedSubnet1Subnet2151DD06"}}}}}},"IGW":{"id":"IGW","path":"NlbSecurityGroupStack/Stack/IGW","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSecurityGroupStack/Stack"}]}}},"VPCGW":{"id":"VPCGW","path":"NlbSecurityGroupStack/Stack/VPCGW","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"StackIGW2F0A1126"},"vpcId":{"Ref":"Stack8A423254"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"NlbSecurityGroupStack/Stack/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Default":{"id":"Default","path":"NlbSecurityGroupStack/Stack/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"NlbSecurityGroupStack/LatestNodeRuntimeMap","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"NlbSecurityGroupStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"NlbSecurityGroupStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Role":{"id":"Role","path":"NlbSecurityGroupStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Handler":{"id":"Handler","path":"NlbSecurityGroupStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"NlbWithSecurityGroup":{"id":"NlbWithSecurityGroup","path":"NlbSecurityGroupStack/NlbWithSecurityGroup","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"NlbSecurityGroupStack/NlbWithSecurityGroup/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internal","securityGroups":[{"Fn::GetAtt":["NlbWithSecurityGroup11C7D70D","GroupId"]}],"subnets":[{"Ref":"StackIsolatedSubnet1Subnet2151DD06"}],"type":"network"}}},"SecurityGroup":{"id":"SecurityGroup","path":"NlbSecurityGroupStack/NlbWithSecurityGroup/SecurityGroup","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"NlbSecurityGroupStack/NlbWithSecurityGroup/SecurityGroup/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatically created Security Group for ELB NlbSecurityGroupStackNlbWithSecurityGroupDC50C5CD","vpcId":{"Ref":"Stack8A423254"}}}},"to NlbSecurityGroupStackSecurityGroup8C77E785:1229":{"id":"to NlbSecurityGroupStackSecurityGroup8C77E785:1229","path":"NlbSecurityGroupStack/NlbWithSecurityGroup/SecurityGroup/to NlbSecurityGroupStackSecurityGroup8C77E785:1229","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"to NlbSecurityGroupStackSecurityGroup8C77E785:1229","destinationSecurityGroupId":{"Fn::GetAtt":["SecurityGroupDD263621","GroupId"]},"fromPort":1229,"groupId":{"Fn::GetAtt":["NlbWithSecurityGroup11C7D70D","GroupId"]},"ipProtocol":"tcp","toPort":1229}}}}}}},"SecurityGroup":{"id":"SecurityGroup","path":"NlbSecurityGroupStack/SecurityGroup","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"NlbSecurityGroupStack/SecurityGroup/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"NlbSecurityGroupStack/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"Stack8A423254"}}}},"from NlbSecurityGroupStackNlbWithSecurityGroupD9AAE7DE:1229":{"id":"from NlbSecurityGroupStackNlbWithSecurityGroupD9AAE7DE:1229","path":"NlbSecurityGroupStack/SecurityGroup/from NlbSecurityGroupStackNlbWithSecurityGroupD9AAE7DE:1229","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from NlbSecurityGroupStackNlbWithSecurityGroupD9AAE7DE:1229","fromPort":1229,"groupId":{"Fn::GetAtt":["SecurityGroupDD263621","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["NlbWithSecurityGroup11C7D70D","GroupId"]},"toPort":1229}}}}},"NlbWithSecurityGroup2":{"id":"NlbWithSecurityGroup2","path":"NlbSecurityGroupStack/NlbWithSecurityGroup2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"NlbSecurityGroupStack/NlbWithSecurityGroup2/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internal","securityGroups":[{"Fn::GetAtt":["SecurityGroupDD263621","GroupId"]}],"subnets":[{"Ref":"StackIsolatedSubnet1Subnet2151DD06"}],"type":"network"}}}}},"NlbWithoutSecurityGroup":{"id":"NlbWithoutSecurityGroup","path":"NlbSecurityGroupStack/NlbWithoutSecurityGroup","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"NlbSecurityGroupStack/NlbWithoutSecurityGroup/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internal","subnets":[{"Ref":"StackIsolatedSubnet1Subnet2151DD06"}],"type":"network"}}}}},"Exports":{"id":"Exports","path":"NlbSecurityGroupStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"NlbWithSecurityGroup8AA6FD5A\"}":{"id":"Output{\"Ref\":\"NlbWithSecurityGroup8AA6FD5A\"}","path":"NlbSecurityGroupStack/Exports/Output{\"Ref\":\"NlbWithSecurityGroup8AA6FD5A\"}","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Output{\"Ref\":\"NlbWithSecurityGroup235636123\"}":{"id":"Output{\"Ref\":\"NlbWithSecurityGroup235636123\"}","path":"NlbSecurityGroupStack/Exports/Output{\"Ref\":\"NlbWithSecurityGroup235636123\"}","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Output{\"Ref\":\"NlbWithoutSecurityGroup82D9E764\"}":{"id":"Output{\"Ref\":\"NlbWithoutSecurityGroup82D9E764\"}","path":"NlbSecurityGroupStack/Exports/Output{\"Ref\":\"NlbWithoutSecurityGroup82D9E764\"}","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"NlbSecurityGroupStack/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"NlbSecurityGroupStack/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"NlbSecurityGroupInteg":{"id":"NlbSecurityGroupInteg","path":"NlbSecurityGroupInteg","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"NlbSecurityGroupInteg/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"NlbSecurityGroupInteg/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607":{"id":"AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AwsApiCall","version":"0.0.0"},"children":{"SdkProvider":{"id":"SdkProvider","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607/SdkProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"0.0.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Default":{"id":"Default","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*"]},"children":{"Default":{"id":"Default","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607/Default/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"AssertionResults":{"id":"AssertionResults","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/AwsApiCallelastic-load-balancing-v2describeLoadBalancersf7e9260de6322af2c929a6a6b2f8b607/AssertionResults","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"SingletonFunction1488541a7b23466481b69b4408076b81":{"id":"SingletonFunction1488541a7b23466481b69b4408076b81","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Staging","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Role":{"id":"Role","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Role","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Handler":{"id":"Handler","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Handler","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/LatestNodeRuntimeMap","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"NlbSecurityGroupInteg/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}