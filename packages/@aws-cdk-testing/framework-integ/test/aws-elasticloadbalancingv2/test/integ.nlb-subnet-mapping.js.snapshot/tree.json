{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"NlbSubnetMappingStack":{"id":"NlbSubnetMappingStack","path":"NlbSubnetMappingStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"DualStackVpc":{"id":"DualStackVpc","path":"NlbSubnetMappingStack/DualStackVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"0.0.0","metadata":[{"maxAzs":"*","ipProtocol":"Dual_Stack","natGateways":"*"}]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/DualStackVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc"}]}}},"ipv6cidr":{"id":"ipv6cidr","path":"NlbSubnetMappingStack/DualStackVpc/ipv6cidr","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCCidrBlock","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCCidrBlock","aws:cdk:cloudformation:props":{"amazonProvidedIpv6CidrBlock":true,"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true},{},{},{}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"assignIpv6AddressOnCreation":true,"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/18","ipv6CidrBlock":{"Fn::Select":[0,{"Fn::Cidr":[{"Fn::Select":[0,{"Fn::GetAtt":["DualStackVpcE812233C","Ipv6CidrBlocks"]}]},4,"64"]}]},"mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"DualStackVpcPublicSubnet1RouteTable0A727F54"},"subnetId":{"Ref":"DualStackVpcPublicSubnet1Subnet956CEF9A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"DualStackVpcIGW08AC356D"},"routeTableId":{"Ref":"DualStackVpcPublicSubnet1RouteTable0A727F54"}}}},"DefaultRoute6":{"id":"DefaultRoute6","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet1/DefaultRoute6","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationIpv6CidrBlock":"::/0","gatewayId":{"Ref":"DualStackVpcIGW08AC356D"},"routeTableId":{"Ref":"DualStackVpcPublicSubnet1RouteTable0A727F54"}}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true},{},{},{}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"assignIpv6AddressOnCreation":true,"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.64.0/18","ipv6CidrBlock":{"Fn::Select":[1,{"Fn::Cidr":[{"Fn::Select":[0,{"Fn::GetAtt":["DualStackVpcE812233C","Ipv6CidrBlocks"]}]},4,"64"]}]},"mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"DualStackVpcPublicSubnet2RouteTableFF94F920"},"subnetId":{"Ref":"DualStackVpcPublicSubnet2Subnet909A2064"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"DualStackVpcIGW08AC356D"},"routeTableId":{"Ref":"DualStackVpcPublicSubnet2RouteTableFF94F920"}}}},"DefaultRoute6":{"id":"DefaultRoute6","path":"NlbSubnetMappingStack/DualStackVpc/PublicSubnet2/DefaultRoute6","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationIpv6CidrBlock":"::/0","gatewayId":{"Ref":"DualStackVpcIGW08AC356D"},"routeTableId":{"Ref":"DualStackVpcPublicSubnet2RouteTableFF94F920"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"assignIpv6AddressOnCreation":true,"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.128.0/18","ipv6CidrBlock":{"Fn::Select":[2,{"Fn::Cidr":[{"Fn::Select":[0,{"Fn::GetAtt":["DualStackVpcE812233C","Ipv6CidrBlocks"]}]},4,"64"]}]},"mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"DualStackVpcIsolatedSubnet1RouteTable9BF22010"},"subnetId":{"Ref":"DualStackVpcIsolatedSubnet1Subnet6E915754"}}}}}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":true}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"assignIpv6AddressOnCreation":true,"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.192.0/18","ipv6CidrBlock":{"Fn::Select":[3,{"Fn::Cidr":[{"Fn::Select":[0,{"Fn::GetAtt":["DualStackVpcE812233C","Ipv6CidrBlocks"]}]},4,"64"]}]},"mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/DualStackVpc/IsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"DualStackVpcIsolatedSubnet2RouteTableF15949E5"},"subnetId":{"Ref":"DualStackVpcIsolatedSubnet2Subnet9FF7B0E0"}}}}}},"IGW":{"id":"IGW","path":"NlbSubnetMappingStack/DualStackVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/DualStackVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"NlbSubnetMappingStack/DualStackVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"DualStackVpcIGW08AC356D"},"vpcId":{"Ref":"DualStackVpcE812233C"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"NlbSubnetMappingStack/DualStackVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"NlbSubnetMappingStack/DualStackVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"NlbSubnetMappingStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"0.0.0"},"children":{"Staging":{"id":"Staging","path":"NlbSubnetMappingStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"NlbSubnetMappingStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"NlbSubnetMappingStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"LbSg":{"id":"LbSg","path":"NlbSubnetMappingStack/LbSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"0.0.0","metadata":[{"vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/LbSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"NlbSubnetMappingStack/LbSg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"DualStackVpcE812233C"}}}}}},"DualStackLb":{"id":"DualStackLb","path":"NlbSubnetMappingStack/DualStackLb","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkLoadBalancer","version":"0.0.0","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/DualStackLb/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"enablePrefixForIpv6SourceNat":"on","ipAddressType":"dualstack","loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["LbSg2402C069","GroupId"]}],"subnetMappings":[{"subnetId":{"Ref":"DualStackVpcPublicSubnet1Subnet956CEF9A"},"sourceNatIpv6Prefix":"auto_assigned"}],"type":"network"}}},"UdpListener":{"id":"UdpListener","path":"NlbSubnetMappingStack/DualStackLb/UdpListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkListener","version":"0.0.0","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/DualStackLb/UdpListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"UdpTargetGroup5F89FEC0"}}],"loadBalancerArn":{"Ref":"DualStackLb6F0EC3FF"},"port":1229,"protocol":"UDP"}}}}}}},"UdpTargetGroup":{"id":"UdpTargetGroup","path":"NlbSubnetMappingStack/UdpTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkTargetGroup","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/UdpTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"ipAddressType":"ipv6","port":1229,"protocol":"UDP","vpcId":{"Ref":"DualStackVpcE812233C"}}}}}},"MyVPC":{"id":"MyVPC","path":"NlbSubnetMappingStack/MyVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"0.0.0","metadata":[{"ipAddresses":"*","maxAzs":"*","subnetConfiguration":[{"cidrMask":"*","name":"*","subnetType":"Public"},{"cidrMask":"*","name":"*","subnetType":"Private"},{"cidrMask":"*","name":"*","subnetType":"Isolated"}],"natGateways":"*"}]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/MyVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/20","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/PublicSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/PublicSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVPCPublicSubnet1RouteTable538A9511"},"subnetId":{"Ref":"MyVPCPublicSubnet1Subnet0C75866A"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"MyVPCIGW30AB6DD6"},"routeTableId":{"Ref":"MyVPCPublicSubnet1RouteTable538A9511"}}}},"EIP":{"id":"EIP","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"NlbSubnetMappingStack/MyVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["MyVPCPublicSubnet1EIP5EB6147D","AllocationId"]},"subnetId":{"Ref":"MyVPCPublicSubnet1Subnet0C75866A"},"tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/PublicSubnet1"}]}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.16.0/20","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVPCPrivateSubnet1RouteTable133BD901"},"subnetId":{"Ref":"MyVPCPrivateSubnet1Subnet641543F4"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"NlbSubnetMappingStack/MyVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"MyVPCPublicSubnet1NATGateway838228A5"},"routeTableId":{"Ref":"MyVPCPrivateSubnet1RouteTable133BD901"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"0.0.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.32.0/20","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"Acl":{"id":"Acl","path":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"NlbSubnetMappingStack/MyVPC/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVPCIsolatedSubnet1RouteTable62A5A725"},"subnetId":{"Ref":"MyVPCIsolatedSubnet1Subnet2AF53E58"}}}}}},"IGW":{"id":"IGW","path":"NlbSubnetMappingStack/MyVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"NlbSubnetMappingStack/MyVPC"}]}}},"VPCGW":{"id":"VPCGW","path":"NlbSubnetMappingStack/MyVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"MyVPCIGW30AB6DD6"},"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"NlbSubnetMappingStack/MyVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"NlbSubnetMappingStack/MyVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}},"ElasticIp":{"id":"ElasticIp","path":"NlbSubnetMappingStack/ElasticIp","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{}}},"InternetFacingLbSg":{"id":"InternetFacingLbSg","path":"NlbSubnetMappingStack/InternetFacingLbSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"0.0.0","metadata":[{"vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/InternetFacingLbSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"NlbSubnetMappingStack/InternetFacingLbSg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}}}},"InternetFacingLb":{"id":"InternetFacingLb","path":"NlbSubnetMappingStack/InternetFacingLb","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkLoadBalancer","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/InternetFacingLb/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["InternetFacingLbSgD36843D5","GroupId"]}],"subnetMappings":[{"subnetId":{"Ref":"MyVPCPublicSubnet1Subnet0C75866A"},"allocationId":{"Fn::GetAtt":["ElasticIp","AllocationId"]}}],"type":"network"}}}}},"InternalLbSg":{"id":"InternalLbSg","path":"NlbSubnetMappingStack/InternalLbSg","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"0.0.0","metadata":[{"vpc":"*"}]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/InternalLbSg/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"NlbSubnetMappingStack/InternalLbSg","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}}}},"InternalLb":{"id":"InternalLb","path":"NlbSubnetMappingStack/InternalLb","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.NetworkLoadBalancer","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"NlbSubnetMappingStack/InternalLb/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internal","securityGroups":[{"Fn::GetAtt":["InternalLbSgB4A119EF","GroupId"]}],"subnetMappings":[{"subnetId":{"Ref":"MyVPCPrivateSubnet1Subnet641543F4"},"privateIPv4Address":"10.0.1.70"}],"type":"network"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"NlbSubnetMappingStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"NlbSubnetMappingStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"NlbSubnetMappingStackTest":{"id":"NlbSubnetMappingStackTest","path":"NlbSubnetMappingStackTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"NlbSubnetMappingStackTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"NlbSubnetMappingStackTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"NlbSubnetMappingStackTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"NlbSubnetMappingStackTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"NlbSubnetMappingStackTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}