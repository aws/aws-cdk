"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const sns = require("aws-cdk-lib/aws-sns");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const app = new aws_cdk_lib_1.App();
const top = new aws_cdk_lib_1.Stack(app, 'nested-stacks-multi-refs');
const level1 = new sns.Topic(top, 'Level1');
const nested1 = new aws_cdk_lib_1.NestedStack(top, 'Nested1');
const nested2 = new aws_cdk_lib_1.NestedStack(nested1, 'Nested2');
const nested3 = new aws_cdk_lib_1.NestedStack(nested2, 'Nested3');
// WHEN
const level2 = new sns.Topic(nested2, 'Level2ReferencesLevel1', {
    displayName: shortName(level1.topicName),
});
new sns.Topic(nested3, 'Level3ReferencesLevel1', {
    displayName: shortName(level1.topicName),
});
new sns.Topic(nested3, 'Level3ReferencesLevel2', {
    displayName: shortName(level2.topicName),
});
app.synth();
// topicName is too long for displayName, so just take the second part:
// Stack1-NestedUnderStack1NestedStackNestedUnderStack1NestedStackResourceF616305B-EM64TEGA04J9-TopicInNestedUnderStack115E329C4-HEO7NLYC1AFL
function shortName(topicName) {
    return aws_cdk_lib_1.Fn.select(1, aws_cdk_lib_1.Fn.split('-', topicName));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcubmVzdGVkLXN0YWNrcy1tdWx0aS1yZWZzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZWcubmVzdGVkLXN0YWNrcy1tdWx0aS1yZWZzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMkNBQTJDO0FBQzNDLDZDQUEwRDtBQUUxRCxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFNLEdBQUcsR0FBRyxJQUFJLG1CQUFLLENBQUMsR0FBRyxFQUFFLDBCQUEwQixDQUFDLENBQUM7QUFDdkQsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUM1QyxNQUFNLE9BQU8sR0FBRyxJQUFJLHlCQUFXLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2hELE1BQU0sT0FBTyxHQUFHLElBQUkseUJBQVcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDcEQsTUFBTSxPQUFPLEdBQUcsSUFBSSx5QkFBVyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztBQUVwRCxPQUFPO0FBQ1AsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRTtJQUM5RCxXQUFXLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7Q0FDekMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRTtJQUMvQyxXQUFXLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7Q0FDekMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRTtJQUMvQyxXQUFXLEVBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7Q0FDekMsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBRVosdUVBQXVFO0FBQ3ZFLDZJQUE2STtBQUM3SSxTQUFTLFNBQVMsQ0FBQyxTQUFpQjtJQUNsQyxPQUFPLGdCQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxnQkFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUNoRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgc25zIGZyb20gJ2F3cy1jZGstbGliL2F3cy1zbnMnO1xuaW1wb3J0IHsgQXBwLCBGbiwgTmVzdGVkU3RhY2ssIFN0YWNrIH0gZnJvbSAnYXdzLWNkay1saWInO1xuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5jb25zdCB0b3AgPSBuZXcgU3RhY2soYXBwLCAnbmVzdGVkLXN0YWNrcy1tdWx0aS1yZWZzJyk7XG5jb25zdCBsZXZlbDEgPSBuZXcgc25zLlRvcGljKHRvcCwgJ0xldmVsMScpO1xuY29uc3QgbmVzdGVkMSA9IG5ldyBOZXN0ZWRTdGFjayh0b3AsICdOZXN0ZWQxJyk7XG5jb25zdCBuZXN0ZWQyID0gbmV3IE5lc3RlZFN0YWNrKG5lc3RlZDEsICdOZXN0ZWQyJyk7XG5jb25zdCBuZXN0ZWQzID0gbmV3IE5lc3RlZFN0YWNrKG5lc3RlZDIsICdOZXN0ZWQzJyk7XG5cbi8vIFdIRU5cbmNvbnN0IGxldmVsMiA9IG5ldyBzbnMuVG9waWMobmVzdGVkMiwgJ0xldmVsMlJlZmVyZW5jZXNMZXZlbDEnLCB7XG4gIGRpc3BsYXlOYW1lOiBzaG9ydE5hbWUobGV2ZWwxLnRvcGljTmFtZSksXG59KTtcblxubmV3IHNucy5Ub3BpYyhuZXN0ZWQzLCAnTGV2ZWwzUmVmZXJlbmNlc0xldmVsMScsIHtcbiAgZGlzcGxheU5hbWU6IHNob3J0TmFtZShsZXZlbDEudG9waWNOYW1lKSxcbn0pO1xuXG5uZXcgc25zLlRvcGljKG5lc3RlZDMsICdMZXZlbDNSZWZlcmVuY2VzTGV2ZWwyJywge1xuICBkaXNwbGF5TmFtZTogc2hvcnROYW1lKGxldmVsMi50b3BpY05hbWUpLFxufSk7XG5cbmFwcC5zeW50aCgpO1xuXG4vLyB0b3BpY05hbWUgaXMgdG9vIGxvbmcgZm9yIGRpc3BsYXlOYW1lLCBzbyBqdXN0IHRha2UgdGhlIHNlY29uZCBwYXJ0OlxuLy8gU3RhY2sxLU5lc3RlZFVuZGVyU3RhY2sxTmVzdGVkU3RhY2tOZXN0ZWRVbmRlclN0YWNrMU5lc3RlZFN0YWNrUmVzb3VyY2VGNjE2MzA1Qi1FTTY0VEVHQTA0SjktVG9waWNJbk5lc3RlZFVuZGVyU3RhY2sxMTVFMzI5QzQtSEVPN05MWUMxQUZMXG5mdW5jdGlvbiBzaG9ydE5hbWUodG9waWNOYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIEZuLnNlbGVjdCgxLCBGbi5zcGxpdCgnLScsIHRvcGljTmFtZSkpO1xufVxuIl19