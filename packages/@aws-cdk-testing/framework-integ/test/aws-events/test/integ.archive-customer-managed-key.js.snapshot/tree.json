{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"archive-customer-managed-key":{"id":"archive-customer-managed-key","path":"archive-customer-managed-key","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"KmsKey":{"id":"KmsKey","path":"archive-customer-managed-key/KmsKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0","metadata":[{"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"archive-customer-managed-key/KmsKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"},{"Action":["kms:Decrypt","kms:GenerateDataKey","kms:ReEncrypt*"],"Condition":{"StringEquals":{"kms:EncryptionContext:aws:events:event-bus:arn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":events:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":event-bus/default"]]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":"*","Sid":"Allow EventBridge to use kms operations"},{"Action":"kms:DescribeKey","Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":"*","Sid":"Allow EventBridge to call kms:DescribeKey"}],"Version":"2012-10-17"}}}}}},"DefaultEventBus":{"id":"DefaultEventBus","path":"archive-customer-managed-key/DefaultEventBus","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Archive":{"id":"Archive","path":"archive-customer-managed-key/Archive","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Archive","version":"0.0.0","metadata":[{"sourceEventBus":"*","eventPattern":{"source":"*"}}]},"children":{"Archive":{"id":"Archive","path":"archive-customer-managed-key/Archive/Archive","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnArchive","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Archive","aws:cdk:cloudformation:props":{"eventPattern":{"source":["test"]},"kmsKeyIdentifier":{"Fn::GetAtt":["KmsKey46693ADD","Arn"]},"retentionDays":0,"sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":events:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":event-bus/default"]]}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"archive-customer-managed-key/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"archive-customer-managed-key/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"archive-customer-managed-key-test":{"id":"archive-customer-managed-key-test","path":"archive-customer-managed-key-test","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"archive-customer-managed-key-test/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"archive-customer-managed-key-test/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"archive-customer-managed-key-test/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"archive-customer-managed-key-test/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"archive-customer-managed-key-test/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}