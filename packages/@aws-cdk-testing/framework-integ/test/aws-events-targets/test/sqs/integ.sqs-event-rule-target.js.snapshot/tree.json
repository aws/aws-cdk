{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"aws-cdk-sqs-event-target":{"id":"aws-cdk-sqs-event-target","path":"aws-cdk-sqs-event-target","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"MyKey":{"id":"MyKey","path":"aws-cdk-sqs-event-target/MyKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-sqs-event-target/MyKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"},{"Action":["kms:Decrypt","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Condition":{"StringEquals":{"aws:SourceAccount":{"Ref":"AWS::AccountId"}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"MyRule":{"id":"MyRule","path":"aws-cdk-sqs-event-target/MyRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"0.0.0","metadata":[{"schedule":"*"},{"addEventPattern":["*"]},{"addTarget":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-sqs-event-target/MyRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"scheduleExpression":"rate(1 minute)","state":"ENABLED","targets":[{"id":"Target0","arn":{"Fn::GetAtt":["MyQueueE6CA6235","Arn"]},"deadLetterConfig":{"arn":{"Fn::GetAtt":["MyDeadLetterQueueD997968A","Arn"]}}}]}}}}},"MyQueue":{"id":"MyQueue","path":"aws-cdk-sqs-event-target/MyQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"0.0.0","metadata":[{"encryption":"KMS","encryptionMasterKey":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-sqs-event-target/MyQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"kmsMasterKeyId":{"Fn::GetAtt":["MyKey6AB29FA6","Arn"]}}}},"Policy":{"id":"Policy","path":"aws-cdk-sqs-event-target/MyQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"0.0.0","metadata":[{"queues":["*"]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-sqs-event-target/MyQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Condition":{"StringEquals":{"aws:SourceAccount":{"Ref":"AWS::AccountId"}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["MyQueueE6CA6235","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"MyQueueE6CA6235"}]}}}}}}},"MyDeadLetterQueue":{"id":"MyDeadLetterQueue","path":"aws-cdk-sqs-event-target/MyDeadLetterQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"0.0.0","metadata":[{"encryption":"KMS","encryptionMasterKey":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-sqs-event-target/MyDeadLetterQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"kmsMasterKeyId":{"Fn::GetAtt":["MyKey6AB29FA6","Arn"]}}}},"Policy":{"id":"Policy","path":"aws-cdk-sqs-event-target/MyDeadLetterQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"0.0.0","metadata":[{"queues":["*"]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-sqs-event-target/MyDeadLetterQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Fn::GetAtt":["MyRuleA44AB831","Arn"]}}},"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["MyDeadLetterQueueD997968A","Arn"]},"Sid":"AllowEventRuleawscdksqseventtargetMyRule0027A8F4"},{"Action":["kms:Decrypt","kms:GenerateDataKey"],"Effect":"Allow","Principal":{"Service":"events.amazonaws.com"},"Resource":{"Fn::GetAtt":["MyKey6AB29FA6","Arn"]},"Sid":"AllowEncryptedEventRuleawscdksqseventtargetMyRule0027A8F4"}],"Version":"2012-10-17"},"queues":[{"Ref":"MyDeadLetterQueueD997968A"}]}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-sqs-event-target/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-sqs-event-target/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}