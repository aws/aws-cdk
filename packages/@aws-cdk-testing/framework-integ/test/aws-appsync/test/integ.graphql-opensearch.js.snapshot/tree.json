{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"appsync-opensearch":{"id":"appsync-opensearch","path":"appsync-opensearch","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"User":{"id":"User","path":"appsync-opensearch/User","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.User","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"appsync-opensearch/User/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnUser","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::User","aws:cdk:cloudformation:props":{}}}}},"Domain":{"id":"Domain","path":"appsync-opensearch/Domain","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchservice.Domain","version":"0.0.0","metadata":[{"version":"*","removalPolicy":"destroy","fineGrainedAccessControl":{"masterUserArn":"*"},"encryptionAtRest":{"enabled":true},"nodeToNodeEncryption":true,"enforceHttps":true,"capacity":{"multiAzWithStandbyEnabled":false}}]},"children":{"Resource":{"id":"Resource","path":"appsync-opensearch/Domain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_opensearchservice.CfnDomain","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::OpenSearchService::Domain","aws:cdk:cloudformation:props":{"advancedSecurityOptions":{"enabled":true,"internalUserDatabaseEnabled":false,"masterUserOptions":{"masterUserArn":{"Fn::GetAtt":["User00B015A1","Arn"]}}},"clusterConfig":{"dedicatedMasterEnabled":false,"instanceCount":1,"instanceType":"r5.large.search","multiAzWithStandbyEnabled":false,"zoneAwarenessEnabled":false},"domainEndpointOptions":{"enforceHttps":true,"tlsSecurityPolicy":"Policy-Min-TLS-1-2-2019-07"},"ebsOptions":{"ebsEnabled":true,"volumeSize":10,"volumeType":"gp2"},"encryptionAtRestOptions":{"enabled":true},"engineVersion":"OpenSearch_2.3","logPublishingOptions":{},"nodeToNodeEncryptionOptions":{"enabled":true}}}}}},"api":{"id":"api","path":"appsync-opensearch/api","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApi","version":"0.0.0","metadata":[{"name":"*","schema":"*"},{"addSchemaDependency":["*"]}]},"children":{"Resource":{"id":"Resource","path":"appsync-opensearch/api/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"authenticationType":"API_KEY","name":"api"}}},"Schema":{"id":"Schema","path":"appsync-opensearch/api/Schema","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["apiC8550315","ApiId"]},"definition":"type test {\n  version: String!\n}\ntype Query {\n  getTests: [test]!\n}\ntype Mutation {\n  addTest(version: String!): test\n}\n"}}},"DefaultApiKey":{"id":"DefaultApiKey","path":"appsync-opensearch/api/DefaultApiKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnApiKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::ApiKey","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["apiC8550315","ApiId"]}}}},"LogGroup":{"id":"LogGroup","path":"appsync-opensearch/api/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"ds":{"id":"ds","path":"appsync-opensearch/api/ds","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.OpenSearchDataSource","version":"0.0.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"appsync-opensearch/api/ds/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"appsync-opensearch/api/ds/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"appsync-opensearch/api/ds/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"appsync-opensearch/api/ds/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"appsync-opensearch/api/ds/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["es:ESHttpDelete","es:ESHttpGet","es:ESHttpHead","es:ESHttpPatch","es:ESHttpPost","es:ESHttpPut"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Domain66AC69E0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"apidsServiceRoleDefaultPolicy5634EFD0","roles":[{"Ref":"apidsServiceRoleBDB08107"}]}}}}}}},"Resource":{"id":"Resource","path":"appsync-opensearch/api/ds/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["apiC8550315","ApiId"]},"name":"ds","openSearchServiceConfig":{"awsRegion":{"Ref":"AWS::Region"},"endpoint":{"Fn::Join":["",["https://",{"Fn::GetAtt":["Domain66AC69E0","DomainEndpoint"]}]]}},"serviceRoleArn":{"Fn::GetAtt":["apidsServiceRoleBDB08107","Arn"]},"type":"AMAZON_OPENSEARCH_SERVICE"}}}}},"QueryGetTests":{"id":"QueryGetTests","path":"appsync-opensearch/api/QueryGetTests","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"appsync-opensearch/api/QueryGetTests/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["apiC8550315","ApiId"]},"dataSourceName":"ds","fieldName":"getTests","kind":"UNIT","requestMappingTemplate":"{\"version\":\"2017-02-28\",\"operation\":\"GET\",\"path\":\"/id/post/_search\",\"params\":{\"headers\":{},\"queryString\":{},\"body\":{\"from\":0,\"size\":50}}}","responseMappingTemplate":"{\"version\":\"2017-02-28\",\"operation\":\"GET\",\"path\":\"/id/post/_search\",\"params\":{\"headers\":{},\"queryString\":{},\"body\":{\"from\":0,\"size\":50,\"query\":{\"term\":{\"author\":\"$util.toJson($context.arguments.author)\"}}}}}","typeName":"Query"}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"appsync-opensearch/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"appsync-opensearch/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"opensearch-2.3-stack":{"id":"opensearch-2.3-stack","path":"opensearch-2.3-stack","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"opensearch-2.3-stack/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"opensearch-2.3-stack/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"opensearch-2.3-stack/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"opensearch-2.3-stack/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"opensearch-2.3-stack/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}