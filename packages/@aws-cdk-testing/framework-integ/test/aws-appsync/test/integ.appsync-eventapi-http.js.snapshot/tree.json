{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"EventApiHttpStack":{"id":"EventApiHttpStack","path":"EventApiHttpStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"EventApiHttp":{"id":"EventApiHttp","path":"EventApiHttpStack/EventApiHttp","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.EventApi","version":"0.0.0","metadata":[{"apiName":"*"}]},"children":{"Resource":{"id":"Resource","path":"EventApiHttpStack/EventApiHttp/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnApi","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Api","aws:cdk:cloudformation:props":{"eventConfig":{"authProviders":[{"authType":"API_KEY"}],"connectionAuthModes":[{"authType":"API_KEY"}],"defaultPublishAuthModes":[{"authType":"API_KEY"}],"defaultSubscribeAuthModes":[{"authType":"API_KEY"}]},"name":"HttpEventApi"}}},"DefaultApiKey":{"id":"DefaultApiKey","path":"EventApiHttpStack/EventApiHttp/DefaultApiKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnApiKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::ApiKey","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["EventApiHttpE6D161A9","ApiId"]}}}},"LogGroup":{"id":"LogGroup","path":"EventApiHttpStack/EventApiHttp/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":[]}},"httpsource":{"id":"httpsource","path":"EventApiHttpStack/EventApiHttp/httpsource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.AppSyncHttpDataSource","version":"0.0.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"EventApiHttpStack/EventApiHttp/httpsource/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EventApiHttpStack/EventApiHttp/httpsource/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"EventApiHttpStack/EventApiHttp/httpsource/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"EventApiHttpStack/EventApiHttp/httpsource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["EventApiHttpE6D161A9","ApiId"]},"httpConfig":{"endpoint":{"Fn::Join":["",["https://",{"Ref":"RandomApi6E16D13B"},".execute-api.",{"Ref":"AWS::Region"},".amazonaws.com"]]}},"name":"httpsource","serviceRoleArn":{"Fn::GetAtt":["EventApiHttphttpsourceServiceRole356257EC","Arn"]},"type":"HTTP"}}}}},"chat":{"id":"chat","path":"EventApiHttpStack/EventApiHttp/chat","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.ChannelNamespace","version":"0.0.0","metadata":[{"api":"*","channelNamespaceName":"*","code":"*","publishHandlerConfig":{"dataSource":"*"}}]},"children":{"Code":{"id":"Code","path":"EventApiHttpStack/EventApiHttp/chat/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"EventApiHttpStack/EventApiHttp/chat/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"EventApiHttpStack/EventApiHttp/chat/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"EventApiHttpStack/EventApiHttp/chat/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnChannelNamespace","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::ChannelNamespace","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["EventApiHttpE6D161A9","ApiId"]},"codeS3Location":{"Fn::Sub":"s3://cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}/07d8f4e69597eb1f36b7146e8c501bb1af1a56b12a30552f86727887e63a17de.js"},"handlerConfigs":{"onPublish":{"behavior":"CODE","integration":{"dataSourceName":"httpsource"}}},"name":"chat"}}}}}}},"RandomApi":{"id":"RandomApi","path":"EventApiHttpStack/RandomApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"EventApiHttpStack/RandomApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"RandomApi"}}},"Deployment":{"id":"Deployment","path":"EventApiHttpStack/RandomApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"0.0.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"EventApiHttpStack/RandomApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"RandomApi6E16D13B"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"EventApiHttpStack/RandomApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"0.0.0","metadata":[{"deployment":"*"}]},"children":{"Resource":{"id":"Resource","path":"EventApiHttpStack/RandomApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"RandomApiDeployment068AAC3A3c1c7009d116bbb8ba0c708a77e23c34"},"restApiId":{"Ref":"RandomApi6E16D13B"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"EventApiHttpStack/RandomApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"Default":{"id":"Default","path":"EventApiHttpStack/RandomApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"0.0.0","metadata":["*"]},"children":{"random":{"id":"random","path":"EventApiHttpStack/RandomApi/Default/random","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"0.0.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"EventApiHttpStack/RandomApi/Default/random/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["RandomApi6E16D13B","RootResourceId"]},"pathPart":"random","restApiId":{"Ref":"RandomApi6E16D13B"}}}},"GET":{"id":"GET","path":"EventApiHttpStack/RandomApi/Default/random/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"0.0.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*"}]}},{"addMethodResponse":[{"statusCode":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"EventApiHttpStack/RandomApi/Default/random/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ \"statusCode\": 200 }"},"passthroughBehavior":"NEVER","integrationResponses":[{"statusCode":"200","responseTemplates":{"application/json":"my-random-value"}}]},"methodResponses":[{"statusCode":"200"}],"resourceId":{"Ref":"RandomApirandom8E08461A"},"restApiId":{"Ref":"RandomApi6E16D13B"}}}}}}}}}}}},"EventApiHttpTestFunction":{"id":"EventApiHttpTestFunction","path":"EventApiHttpStack/EventApiHttpTestFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"0.0.0","metadata":[{"runtime":"*","environment":"*","bundling":{"bundleAwsSDK":true},"entry":"*","handler":"*","timeout":"*","code":"*"},{},{},{},{"runtime":"*","environment":"*","bundling":{"bundleAwsSDK":true},"entry":"*","handler":"*","timeout":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"EventApiHttpStack/EventApiHttpTestFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"EventApiHttpStack/EventApiHttpTestFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"EventApiHttpStack/EventApiHttpTestFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Code":{"id":"Code","path":"EventApiHttpStack/EventApiHttpTestFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"EventApiHttpStack/EventApiHttpTestFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"EventApiHttpStack/EventApiHttpTestFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"EventApiHttpStack/EventApiHttpTestFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"cc58ffe6cea9c658ded0d33d16dc6bb780ce30d2c2b9b5a2c0a2367654628dc1.zip"},"environment":{"variables":{"EVENT_API_REALTIME_URL":{"Fn::Join":["",["wss://",{"Fn::GetAtt":["EventApiHttpE6D161A9","Dns.Realtime"]},"/event/realtime"]]},"EVENT_API_HTTP_URL":{"Fn::Join":["",["https://",{"Fn::GetAtt":["EventApiHttpE6D161A9","Dns.Http"]},"/event"]]},"API_KEY":{"Fn::GetAtt":["EventApiHttpDefaultApiKeyC81EBA64","ApiKey"]}}},"handler":"index.handler","role":{"Fn::GetAtt":["EventApiHttpTestFunctionServiceRole205111EF","Arn"]},"runtime":"nodejs22.x","timeout":15}}}}},"Exports":{"id":"Exports","path":"EventApiHttpStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"EventApiHttpTestFunctionB0225230\"}":{"id":"Output{\"Ref\":\"EventApiHttpTestFunctionB0225230\"}","path":"EventApiHttpStack/Exports/Output{\"Ref\":\"EventApiHttpTestFunctionB0225230\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"EventApiHttpStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"EventApiHttpStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"appsync-eventapi-Http-test":{"id":"appsync-eventapi-Http-test","path":"appsync-eventapi-Http-test","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"appsync-eventapi-Http-test/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"appsync-eventapi-Http-test/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad":{"id":"LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.LambdaInvokeFunction","version":"0.0.0"},"children":{"SdkProvider":{"id":"SdkProvider","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad/SdkProvider","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"0.0.0"},"children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Default":{"id":"Default","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad/Default","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*","*","*"]},"children":{"Default":{"id":"Default","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad/Default/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"Invoke":{"id":"Invoke","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad/Invoke","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"AssertionResults":{"id":"AssertionResults","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LambdaInvokec0d662cb5f83f7d9ecd4110320ac26ad/AssertionResults","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}}}},"SingletonFunction1488541a7b23466481b69b4408076b81":{"id":"SingletonFunction1488541a7b23466481b69b4408076b81","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Staging":{"id":"Staging","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"0.0.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"appsync-eventapi-Http-test/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}