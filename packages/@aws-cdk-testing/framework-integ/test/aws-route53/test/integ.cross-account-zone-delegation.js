"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const iam = require("aws-cdk-lib/aws-iam");
const cdk = require("aws-cdk-lib");
const aws_route53_1 = require("aws-cdk-lib/aws-route53");
const app = new cdk.App();
const stack = new cdk.Stack(app, 'aws-cdk-route53-cross-account-integ');
const parentZone = new aws_route53_1.PublicHostedZone(stack, 'ParentHostedZone', {
    zoneName: 'myzone.com',
    crossAccountZoneDelegationPrincipal: new iam.AccountPrincipal(cdk.Aws.ACCOUNT_ID),
});
// with zoneId
const childZoneWithZoneId = new aws_route53_1.PublicHostedZone(stack, 'ChildHostedZoneWithZoneId', {
    zoneName: 'sub.myzone.com',
});
new aws_route53_1.CrossAccountZoneDelegationRecord(stack, 'DelegationWithZoneId', {
    delegatedZone: childZoneWithZoneId,
    parentHostedZoneId: parentZone.hostedZoneId,
    delegationRole: parentZone.crossAccountZoneDelegationRole,
});
// with zoneName
const childZoneWithZoneName = new aws_route53_1.PublicHostedZone(stack, 'ChildHostedZoneWithZoneName', {
    zoneName: 'anothersub.myzone.com',
});
new aws_route53_1.CrossAccountZoneDelegationRecord(stack, 'DelegationWithZoneName', {
    delegatedZone: childZoneWithZoneName,
    parentHostedZoneName: 'myzone.com',
    delegationRole: parentZone.crossAccountZoneDelegationRole,
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcuY3Jvc3MtYWNjb3VudC16b25lLWRlbGVnYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnRlZy5jcm9zcy1hY2NvdW50LXpvbmUtZGVsZWdhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDJDQUEyQztBQUMzQyxtQ0FBbUM7QUFDbkMseURBQTZGO0FBRTdGLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTFCLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUscUNBQXFDLENBQUMsQ0FBQztBQUV4RSxNQUFNLFVBQVUsR0FBRyxJQUFJLDhCQUFnQixDQUFDLEtBQUssRUFBRSxrQkFBa0IsRUFBRTtJQUNqRSxRQUFRLEVBQUUsWUFBWTtJQUN0QixtQ0FBbUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQztDQUNsRixDQUFDLENBQUM7QUFFSCxjQUFjO0FBQ2QsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLDhCQUFnQixDQUFDLEtBQUssRUFBRSwyQkFBMkIsRUFBRTtJQUNuRixRQUFRLEVBQUUsZ0JBQWdCO0NBQzNCLENBQUMsQ0FBQztBQUNILElBQUksOENBQWdDLENBQUMsS0FBSyxFQUFFLHNCQUFzQixFQUFFO0lBQ2xFLGFBQWEsRUFBRSxtQkFBbUI7SUFDbEMsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLFlBQVk7SUFDM0MsY0FBYyxFQUFFLFVBQVUsQ0FBQyw4QkFBK0I7Q0FDM0QsQ0FBQyxDQUFDO0FBRUgsZ0JBQWdCO0FBQ2hCLE1BQU0scUJBQXFCLEdBQUcsSUFBSSw4QkFBZ0IsQ0FBQyxLQUFLLEVBQUUsNkJBQTZCLEVBQUU7SUFDdkYsUUFBUSxFQUFFLHVCQUF1QjtDQUNsQyxDQUFDLENBQUM7QUFDSCxJQUFJLDhDQUFnQyxDQUFDLEtBQUssRUFBRSx3QkFBd0IsRUFBRTtJQUNwRSxhQUFhLEVBQUUscUJBQXFCO0lBQ3BDLG9CQUFvQixFQUFFLFlBQVk7SUFDbEMsY0FBYyxFQUFFLFVBQVUsQ0FBQyw4QkFBK0I7Q0FDM0QsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaWFtIGZyb20gJ2F3cy1jZGstbGliL2F3cy1pYW0nO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IFB1YmxpY0hvc3RlZFpvbmUsIENyb3NzQWNjb3VudFpvbmVEZWxlZ2F0aW9uUmVjb3JkIH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLXJvdXRlNTMnO1xuXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuXG5jb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwLCAnYXdzLWNkay1yb3V0ZTUzLWNyb3NzLWFjY291bnQtaW50ZWcnKTtcblxuY29uc3QgcGFyZW50Wm9uZSA9IG5ldyBQdWJsaWNIb3N0ZWRab25lKHN0YWNrLCAnUGFyZW50SG9zdGVkWm9uZScsIHtcbiAgem9uZU5hbWU6ICdteXpvbmUuY29tJyxcbiAgY3Jvc3NBY2NvdW50Wm9uZURlbGVnYXRpb25QcmluY2lwYWw6IG5ldyBpYW0uQWNjb3VudFByaW5jaXBhbChjZGsuQXdzLkFDQ09VTlRfSUQpLFxufSk7XG5cbi8vIHdpdGggem9uZUlkXG5jb25zdCBjaGlsZFpvbmVXaXRoWm9uZUlkID0gbmV3IFB1YmxpY0hvc3RlZFpvbmUoc3RhY2ssICdDaGlsZEhvc3RlZFpvbmVXaXRoWm9uZUlkJywge1xuICB6b25lTmFtZTogJ3N1Yi5teXpvbmUuY29tJyxcbn0pO1xubmV3IENyb3NzQWNjb3VudFpvbmVEZWxlZ2F0aW9uUmVjb3JkKHN0YWNrLCAnRGVsZWdhdGlvbldpdGhab25lSWQnLCB7XG4gIGRlbGVnYXRlZFpvbmU6IGNoaWxkWm9uZVdpdGhab25lSWQsXG4gIHBhcmVudEhvc3RlZFpvbmVJZDogcGFyZW50Wm9uZS5ob3N0ZWRab25lSWQsXG4gIGRlbGVnYXRpb25Sb2xlOiBwYXJlbnRab25lLmNyb3NzQWNjb3VudFpvbmVEZWxlZ2F0aW9uUm9sZSEsXG59KTtcblxuLy8gd2l0aCB6b25lTmFtZVxuY29uc3QgY2hpbGRab25lV2l0aFpvbmVOYW1lID0gbmV3IFB1YmxpY0hvc3RlZFpvbmUoc3RhY2ssICdDaGlsZEhvc3RlZFpvbmVXaXRoWm9uZU5hbWUnLCB7XG4gIHpvbmVOYW1lOiAnYW5vdGhlcnN1Yi5teXpvbmUuY29tJyxcbn0pO1xubmV3IENyb3NzQWNjb3VudFpvbmVEZWxlZ2F0aW9uUmVjb3JkKHN0YWNrLCAnRGVsZWdhdGlvbldpdGhab25lTmFtZScsIHtcbiAgZGVsZWdhdGVkWm9uZTogY2hpbGRab25lV2l0aFpvbmVOYW1lLFxuICBwYXJlbnRIb3N0ZWRab25lTmFtZTogJ215em9uZS5jb20nLFxuICBkZWxlZ2F0aW9uUm9sZTogcGFyZW50Wm9uZS5jcm9zc0FjY291bnRab25lRGVsZWdhdGlvblJvbGUhLFxufSk7XG5cbmFwcC5zeW50aCgpO1xuIl19