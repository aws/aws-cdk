"use strict";var c=Object.defineProperty;var i=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var T=(o,e)=>{for(var t in e)c(o,t,{get:e[t],enumerable:!0})},m=(o,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of R(e))!u.call(o,r)&&r!==t&&c(o,r,{get:()=>e[r],enumerable:!(s=i(e,r))||s.enumerable});return o};var y=o=>m(c({},"__esModule",{value:!0}),o);var f={};T(f,{handler:()=>p});module.exports=y(f);var n=require("@aws-sdk/client-route-53");async function p(o){let e=o.ResourceProperties;if(o.RequestType!=="Create")return;let t=new n.Route53,r=(await t.listResourceRecordSets({HostedZoneId:e.HostedZoneId,StartRecordName:e.RecordName,StartRecordType:e.RecordType})).ResourceRecordSets?.find(a=>a.Name===e.RecordName&&a.Type===e.RecordType);if(!r)return;let d=await t.changeResourceRecordSets({HostedZoneId:e.HostedZoneId,ChangeBatch:{Changes:[{Action:"DELETE",ResourceRecordSet:g({Name:r.Name,Type:r.Type,TTL:r.TTL,AliasTarget:r.AliasTarget,ResourceRecords:r.ResourceRecords})}]}});return await(0,n.waitUntilResourceRecordSetsChanged)({client:t,maxWaitTime:890},{Id:d?.ChangeInfo?.Id}),{PhysicalResourceId:`${r.Name}-${r.Type}`}}function g(o){let e={};for(let[t,s]of Object.entries(o))s&&(!Array.isArray(s)||s.length!==0)&&(e[t]=s);return e}0&&(module.exports={handler});
