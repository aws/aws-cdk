{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"ZoneDelegationStack":{"id":"ZoneDelegationStack","path":"ZoneDelegationStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"ParentZone":{"id":"ParentZone","path":"ZoneDelegationStack/ParentZone","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.PublicHostedZone","version":"0.0.0","metadata":[{"zoneName":"*"},{"zoneName":"*"},{}]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/ParentZone/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHostedZone","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"uniqueexample.com."}}}}},"ZoneDelegationRole":{"id":"ZoneDelegationRole","path":"ZoneDelegationStack/ZoneDelegationRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportZoneDelegationRole":{"id":"ImportZoneDelegationRole","path":"ZoneDelegationStack/ZoneDelegationRole/ImportZoneDelegationRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"ZoneDelegationStack/ZoneDelegationRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Condition":{"ArnLike":{"aws:PrincipalArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":role/ZoneDelegationStack-*"]]}}},"Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}}}],"Version":"2012-10-17"},"roleName":"ExampleDelegationRole"}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ZoneDelegationStack/ZoneDelegationRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/ZoneDelegationRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"route53:ChangeResourceRecordSets","Condition":{"ForAllValues:StringEquals":{"route53:ChangeResourceRecordSetsRecordTypes":["NS"],"route53:ChangeResourceRecordSetsActions":["UPSERT","DELETE"],"route53:ChangeResourceRecordSetsNormalizedRecordNames":["sub1.uniqueexample.com","sub2_\\052\\044.uniqueexample.com"]}},"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":route53:::hostedzone/",{"Ref":"ParentZoneECA3B259"}]]}},{"Action":"route53:ListHostedZonesByName","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ZoneDelegationRoleDefaultPolicy2187EBE7","roles":[{"Ref":"ZoneDelegationRoleD3AA833E"}]}}}}}}},"SubZone":{"id":"SubZone","path":"ZoneDelegationStack/SubZone","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.PublicHostedZone","version":"0.0.0","metadata":[{"zoneName":"*"},{"zoneName":"*"}]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZone/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHostedZone","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"sub1.uniqueexample.com."}}},"ZoneDelegation":{"id":"ZoneDelegation","path":"ZoneDelegationStack/SubZone/ZoneDelegation","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CrossAccountZoneDelegationRecord","version":"0.0.0"},"children":{"cross-account-zone-delegation-handler-role":{"id":"cross-account-zone-delegation-handler-role","path":"ZoneDelegationStack/SubZone/ZoneDelegation/cross-account-zone-delegation-handler-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*","*","*","*"]},"children":{"PolicyZoneDelegationStackSubZoneZoneDelegationcrossaccountzonedelegationhandlerrole9EBB2EA4":{"id":"PolicyZoneDelegationStackSubZoneZoneDelegationcrossaccountzonedelegationhandlerrole9EBB2EA4","path":"ZoneDelegationStack/SubZone/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZoneZoneDelegationcrossaccountzonedelegationhandlerrole9EBB2EA4","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":[{"policyName":"*"},{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZone/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZoneZoneDelegationcrossaccountzonedelegationhandlerrole9EBB2EA4/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ZoneDelegationRoleD3AA833E","Arn"]}}],"Version":"2012-10-17"},"policyName":"PolicyZoneDelegationStackSubZoneZoneDelegationcrossaccountzonedelegationhandlerrole9EBB2EA4","roles":[{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::GetAtt":["CustomCrossAccountZoneDelegationCustomResourceProviderRoleED64687B","Arn"]}]}]}]}]}]}}}}}}},"CrossAccountZoneDelegationCustomResource":{"id":"CrossAccountZoneDelegationCustomResource","path":"ZoneDelegationStack/SubZone/ZoneDelegation/CrossAccountZoneDelegationCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ZoneDelegationStack/SubZone/ZoneDelegation/CrossAccountZoneDelegationCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}}}},"Custom::CrossAccountZoneDelegationCustomResourceProvider":{"id":"Custom::CrossAccountZoneDelegationCustomResourceProvider","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"0.0.0"},"children":{"Staging":{"id":"Staging","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"ZoneDelegationStack/Custom::CrossAccountZoneDelegationCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"SubZoneSpecialChars":{"id":"SubZoneSpecialChars","path":"ZoneDelegationStack/SubZoneSpecialChars","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.PublicHostedZone","version":"0.0.0","metadata":[{"zoneName":"*"},{"zoneName":"*"}]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZoneSpecialChars/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHostedZone","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"sub2_*$.uniqueexample.com."}}},"ZoneDelegation":{"id":"ZoneDelegation","path":"ZoneDelegationStack/SubZoneSpecialChars/ZoneDelegation","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CrossAccountZoneDelegationRecord","version":"0.0.0"},"children":{"cross-account-zone-delegation-handler-role":{"id":"cross-account-zone-delegation-handler-role","path":"ZoneDelegationStack/SubZoneSpecialChars/ZoneDelegation/cross-account-zone-delegation-handler-role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*","*","*","*"]},"children":{"PolicyZoneDelegationStackSubZoneSpecialCharsZoneDelegationcrossaccountzonedelegationhandlerroleD01CC77D":{"id":"PolicyZoneDelegationStackSubZoneSpecialCharsZoneDelegationcrossaccountzonedelegationhandlerroleD01CC77D","path":"ZoneDelegationStack/SubZoneSpecialChars/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZoneSpecialCharsZoneDelegationcrossaccountzonedelegationhandlerroleD01CC77D","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":[{"policyName":"*"},{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ZoneDelegationStack/SubZoneSpecialChars/ZoneDelegation/cross-account-zone-delegation-handler-role/PolicyZoneDelegationStackSubZoneSpecialCharsZoneDelegationcrossaccountzonedelegationhandlerroleD01CC77D/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["ZoneDelegationRoleD3AA833E","Arn"]}}],"Version":"2012-10-17"},"policyName":"PolicyZoneDelegationStackSubZoneSpecialCharsZoneDelegationcrossaccountzonedelegationhandlerroleD01CC77D","roles":[{"Fn::Select":[1,{"Fn::Split":["/",{"Fn::Select":[5,{"Fn::Split":[":",{"Fn::GetAtt":["CustomCrossAccountZoneDelegationCustomResourceProviderRoleED64687B","Arn"]}]}]}]}]}]}}}}}}},"CrossAccountZoneDelegationCustomResource":{"id":"CrossAccountZoneDelegationCustomResource","path":"ZoneDelegationStack/SubZoneSpecialChars/ZoneDelegation/CrossAccountZoneDelegationCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"ZoneDelegationStack/SubZoneSpecialChars/ZoneDelegation/CrossAccountZoneDelegationCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ZoneDelegationStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZoneDelegationStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"ZoneDelegationIam":{"id":"ZoneDelegationIam","path":"ZoneDelegationIam","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"ZoneDelegationIam/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"ZoneDelegationIam/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"ZoneDelegationIam/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"ZoneDelegationIam/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ZoneDelegationIam/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}