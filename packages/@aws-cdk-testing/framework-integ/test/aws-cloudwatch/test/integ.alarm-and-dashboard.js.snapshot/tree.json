{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"aws-cdk-cloudwatch-alarms":{"id":"aws-cdk-cloudwatch-alarms","path":"aws-cdk-cloudwatch-alarms","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"queue":{"id":"queue","path":"aws-cdk-cloudwatch-alarms/queue","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Alarm":{"id":"Alarm","path":"aws-cdk-cloudwatch-alarms/Alarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"0.0.0","metadata":[{"metric":{"warnings":"*"},"alarmName":"*","alarmDescription":"*","comparisonOperator":"*","datapointsToAlarm":"*","threshold":"*","evaluationPeriods":"*","evaluateLowSampleCountPercentile":"*","treatMissingData":"*","actionsEnabled":"*"},{"toAnnotation":[]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-cloudwatch-alarms/Alarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"QueueName","value":{"Fn::GetAtt":["queue","QueueName"]}}],"evaluationPeriods":3,"metricName":"ApproximateNumberOfMessagesVisible","namespace":"AWS/SQS","period":300,"statistic":"Average","threshold":100}}}}},"Dash":{"id":"Dash","path":"aws-cdk-cloudwatch-alarms/Dash","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"0.0.0","metadata":[{"dashboardName":"*","start":"*","end":"*","periodOverride":"inherit"},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"},"*"]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-cloudwatch-alarms/Dash/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"start\":\"-9H\",\"end\":\"2018-12-17T06:00:00.000Z\",\"periodOverride\":\"inherit\",\"widgets\":[{\"type\":\"text\",\"width\":6,\"height\":2,\"x\":0,\"y\":0,\"properties\":{\"markdown\":\"# This is my dashboard\"}},{\"type\":\"text\",\"width\":6,\"height\":2,\"x\":6,\"y\":0,\"properties\":{\"markdown\":\"you like?\"}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":2,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Messages in queue\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"annotations\":{\"alarms\":[\"",{"Fn::GetAtt":["Alarm7103F465","Arn"]},"\"]},\"yAxis\":{}}},{\"type\":\"alarm\",\"width\":6,\"height\":3,\"x\":0,\"y\":8,\"properties\":{\"title\":\"Firing alarms\",\"alarms\":[\"",{"Fn::GetAtt":["Alarm7103F465","Arn"]},"\"]}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":11,\"properties\":{\"view\":\"timeSeries\",\"title\":\"More messages in queue with alarm annotation\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/SQS\",\"ApproximateNumberOfMessagesVisible\",\"QueueName\",\"",{"Fn::GetAtt":["queue","QueueName"]},"\"]],\"annotations\":{\"horizontal\":[{\"label\":\"ApproximateNumberOfMessagesVisible >= 100 for 2 datapoints within 15 minutes\",\"value\":100,\"yAxis\":\"left\"}]},\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":3,\"x\":0,\"y\":17,\"properties\":{\"view\":\"singleValue\",\"title\":\"Current messages in queue\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/SQS\",\"ApproximateNumberOfMessagesVisible\",\"QueueName\",\"",{"Fn::GetAtt":["queue","QueueName"]},"\"]]}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":20,\"properties\":{\"view\":\"table\",\"title\":\"Errors in my log group\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"query\":\"SOURCE 'my-log-group' | fields @message\\n                | filter @message like /Error/\"}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":26,\"properties\":{\"view\":\"bar\",\"title\":\"Errors in my log group - bar\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"query\":\"SOURCE 'my-log-group' | fields @message\\n                | filter @message like /Error/\"}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":32,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors in my log group - line\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"query\":\"SOURCE 'my-log-group' | fields @message\\n                | filter @message like /Error/\",\"stacked\":false}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":38,\"properties\":{\"view\":\"timeSeries\",\"title\":\"Errors in my log group - stacked\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"query\":\"SOURCE 'my-log-group' | fields @message\\n                | filter @message like /Error/\",\"stacked\":true}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":44,\"properties\":{\"view\":\"pie\",\"title\":\"Errors in my log group - pie\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"accountId\":\"123456789012\",\"query\":\"SOURCE 'my-log-group' | fields @message\\n                | filter @message like /Error/\"}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":50,\"properties\":{\"view\":\"table\",\"title\":\"Errors in my log group - SQL\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"query\":\"SOURCE 'my-log-group' | SELECT count(*) as count FROM 'my-log-group'\",\"queryLanguage\":\"SQL\"}},{\"type\":\"log\",\"width\":6,\"height\":6,\"x\":0,\"y\":56,\"properties\":{\"view\":\"table\",\"title\":\"Errors in my log group - PPL\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"query\":\"SOURCE 'my-log-group' | fields `@message` | sort - `@timestamp`\",\"queryLanguage\":\"PPL\"}},{\"type\":\"metric\",\"width\":6,\"height\":3,\"x\":0,\"y\":62,\"properties\":{\"view\":\"singleValue\",\"title\":\"Sent message size\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/SQS\",\"SentMessageSize\",\"QueueName\",\"",{"Fn::GetAtt":["queue","QueueName"]},"\"]],\"singleValueFullPrecision\":false}},{\"type\":\"metric\",\"width\":6,\"height\":3,\"x\":0,\"y\":65,\"properties\":{\"view\":\"singleValue\",\"title\":\"Sent message size with full precision\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/SQS\",\"SentMessageSize\",\"QueueName\",\"",{"Fn::GetAtt":["queue","QueueName"]},"\"]],\"singleValueFullPrecision\":true}},{\"type\":\"custom\",\"width\":6,\"height\":6,\"x\":0,\"y\":68,\"properties\":{\"endpoint\":\"arn:aws:lambda:us-west-2:123456789012:function:my-function\",\"title\":\"My custom alarm\",\"updateOn\":{\"refresh\":true,\"resize\":true,\"timeRange\":true}}}]}"]]},"dashboardName":"MyCustomDashboardName"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-cloudwatch-alarms/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-cloudwatch-alarms/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"cdk-cloudwatch-alarms-integ-test":{"id":"cdk-cloudwatch-alarms-integ-test","path":"cdk-cloudwatch-alarms-integ-test","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"cdk-cloudwatch-alarms-integ-test/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"cdk-cloudwatch-alarms-integ-test/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"cdk-cloudwatch-alarms-integ-test/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"cdk-cloudwatch-alarms-integ-test/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"cdk-cloudwatch-alarms-integ-test/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}