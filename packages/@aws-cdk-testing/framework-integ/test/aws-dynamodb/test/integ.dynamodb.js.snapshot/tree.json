{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"aws-cdk-dynamodb":{"id":"aws-cdk-dynamodb","path":"aws-cdk-dynamodb","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Table":{"id":"Table","path":"aws-cdk-dynamodb/Table","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Table/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/Table/ScalingRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}}}},"TableWithGlobalAndLocalSecondaryIndex":{"id":"TableWithGlobalAndLocalSecondaryIndex","path":"aws-cdk-dynamodb/TableWithGlobalAndLocalSecondaryIndex","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*","*","*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithGlobalAndLocalSecondaryIndex/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"},{"attributeName":"sortKey","attributeType":"N"},{"attributeName":"gsiHashKey","attributeType":"S"},{"attributeName":"gsiSortKey","attributeType":"N"},{"attributeName":"lsiSortKey","attributeType":"N"}],"globalSecondaryIndexes":[{"indexName":"GSI-PartitionKeyOnly","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"GSI-PartitionAndSortKeyWithReadAndWriteCapacity","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"},{"attributeName":"gsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":10,"writeCapacityUnits":10}},{"indexName":"GSI-ProjectionTypeKeysOnly","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"},{"attributeName":"gsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"KEYS_ONLY"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"GSI-ProjectionTypeInclude","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"},{"attributeName":"gsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"INCLUDE","nonKeyAttributes":["A","B","C","D","E","F","G","H","I","J"]},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"GSI-InverseTableKeySchema","keySchema":[{"attributeName":"sortKey","keyType":"HASH"},{"attributeName":"hashKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"sortKey","keyType":"RANGE"}],"localSecondaryIndexes":[{"indexName":"LSI-PartitionAndTableSortKey","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"LSI-PartitionAndSortKey","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"sortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"LSI-ProjectionTypeKeysOnly","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"KEYS_ONLY"}},{"indexName":"LSI-ProjectionTypeInclude","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"INCLUDE","nonKeyAttributes":["K","L","M","N","O","P","Q","R","S","T"]}}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"sseSpecification":{"sseEnabled":true},"streamSpecification":{"streamViewType":"KEYS_ONLY"},"tags":[{"key":"Environment","value":"Production"}],"timeToLiveSpecification":{"attributeName":"timeToLive","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithGlobalAndLocalSecondaryIndex/ScalingRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}}}},"TableWithGlobalSecondaryIndex":{"id":"TableWithGlobalSecondaryIndex","path":"aws-cdk-dynamodb/TableWithGlobalSecondaryIndex","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithGlobalSecondaryIndex/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"},{"attributeName":"gsiHashKey","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"GSI-PartitionKeyOnly","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithGlobalSecondaryIndex/ScalingRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}}}},"TableWithLocalSecondaryIndex":{"id":"TableWithLocalSecondaryIndex","path":"aws-cdk-dynamodb/TableWithLocalSecondaryIndex","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithLocalSecondaryIndex/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"},{"attributeName":"sortKey","attributeType":"N"},{"attributeName":"lsiSortKey","attributeType":"N"}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"sortKey","keyType":"RANGE"}],"localSecondaryIndexes":[{"indexName":"LSI-PartitionAndSortKey","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithLocalSecondaryIndex/ScalingRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}}}},"Key":{"id":"Key","path":"aws-cdk-dynamodb/Key","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Key/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"TableWithCustomerManagedKey":{"id":"TableWithCustomerManagedKey","path":"aws-cdk-dynamodb/TableWithCustomerManagedKey","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithCustomerManagedKey/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["Key961B73FD","Arn"]},"sseType":"KMS"},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithCustomerManagedKey/ScalingRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}}}},"Role":{"id":"Role","path":"aws-cdk-dynamodb/Role","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*","*","*"]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-cdk-dynamodb/Role/ImportRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Role/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"sqs.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-dynamodb/Role/DefaultPolicy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"dynamodb:ListStreams","Effect":"Allow","Resource":"*"},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["Key961B73FD","Arn"]}},{"Action":["dynamodb:DescribeStream","dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TableWithCustomerManagedKeyD5C58807","StreamArn"]}}],"Version":"2012-10-17"},"policyName":"RoleDefaultPolicy5FFB7DAB","roles":[{"Ref":"Role1ABCC5F0"}]}}}}}}},"User":{"id":"User","path":"aws-cdk-dynamodb/User","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/User/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::User","aws:cdk:cloudformation:props":{}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-dynamodb/User/DefaultPolicy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/User/DefaultPolicy/Resource","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TableCD117FA1","Arn"]},{"Fn::GetAtt":["TableWithGlobalAndLocalSecondaryIndexBC540710","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TableWithGlobalAndLocalSecondaryIndexBC540710","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"UserDefaultPolicy1F97781E","users":[{"Ref":"User00B015A1"}]}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-dynamodb/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-dynamodb/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}