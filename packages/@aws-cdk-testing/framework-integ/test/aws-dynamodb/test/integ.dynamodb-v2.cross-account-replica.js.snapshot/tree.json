{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"MultiAccountSourceStackV2":{"id":"MultiAccountSourceStackV2","path":"MultiAccountSourceStackV2","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"SourceTableV2":{"id":"SourceTableV2","path":"MultiAccountSourceStackV2/SourceTableV2","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2","version":"0.0.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"},{"addToResourcePolicy":[{}]},{"addToResourcePolicy":[{}]}]},"children":{"Resource":{"id":"Resource","path":"MultiAccountSourceStackV2/SourceTableV2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"replicas":[{"region":"eu-west-1","resourcePolicy":{"policyDocument":{"Statement":[{"Action":"dynamodb:AssociateTableReplica","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:aws:iam::",{"Fn::Select":[4,{"Fn::Split":[":","arn:aws:dynamodb:ca-central-1:490940935144:table/MultiAccountGlobalTable"]}]},":root"]]}},"Resource":"*","Sid":"AllowMultiAccountReplicaAssociation"},{"Action":["dynamodb:ReadDataForReplication","dynamodb:ReplicateSettings","dynamodb:WriteDataForReplication"],"Condition":{"StringEquals":{"aws:SourceAccount":["12345678",{"Fn::Select":[4,{"Fn::Split":[":","arn:aws:dynamodb:ca-central-1:490940935144:table/MultiAccountGlobalTable"]}]}]}},"Effect":"Allow","Principal":{"Service":"replication.dynamodb.amazonaws.com"},"Resource":"*","Sid":"AllowReplicationServiceReadWrite"}],"Version":"2012-10-17"}},"globalTableSettingsReplicationMode":"ENABLED"}],"tableName":"MultiAccountGlobalTable"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MultiAccountSourceStackV2/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MultiAccountSourceStackV2/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"MultiAccountReplicaStackV2":{"id":"MultiAccountReplicaStackV2","path":"MultiAccountReplicaStackV2","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"ReplicaTableV2":{"id":"ReplicaTableV2","path":"MultiAccountReplicaStackV2/ReplicaTableV2","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableV2MultiAccountReplica","version":"0.0.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"MultiAccountReplicaStackV2/ReplicaTableV2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnGlobalTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::GlobalTable","aws:cdk:cloudformation:props":{"globalTableSourceArn":"arn:aws:dynamodb:eu-west-1:12345678:table/MultiAccountGlobalTable","replicas":[{"region":"ca-central-1","resourcePolicy":{"policyDocument":{"Statement":[{"Action":["dynamodb:ReadDataForReplication","dynamodb:ReplicateSettings","dynamodb:WriteDataForReplication"],"Condition":{"StringEquals":{"aws:SourceAccount":["490940935144",{"Fn::Select":[4,{"Fn::Split":[":","arn:aws:dynamodb:eu-west-1:12345678:table/MultiAccountGlobalTable"]}]}]}},"Effect":"Allow","Principal":{"Service":"replication.dynamodb.amazonaws.com"},"Resource":"*","Sid":"AllowReplicationService"}],"Version":"2012-10-17"}},"globalTableSettingsReplicationMode":"ENABLED"}],"tableName":"MultiAccountGlobalTable"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"MultiAccountReplicaStackV2/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MultiAccountReplicaStackV2/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"MultiAccountReplicaIntegTestV2":{"id":"MultiAccountReplicaIntegTestV2","path":"MultiAccountReplicaIntegTestV2","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"MultiAccountReplicaIntegTestV2/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"MultiAccountReplicaIntegTestV2/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}},"DeployAssert":{"id":"DeployAssert","path":"MultiAccountReplicaIntegTestV2/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"MultiAccountReplicaIntegTestV2/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"MultiAccountReplicaIntegTestV2/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.4"}}}}}