{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"aws-cdk-dynamodb":{"id":"aws-cdk-dynamodb","path":"aws-cdk-dynamodb","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"Table":{"id":"Table","path":"aws-cdk-dynamodb/Table","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"0.0.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"removalPolicy":"destroy","encryption":"CUSTOMER_MANAGED"}]},"children":{"Key":{"id":"Key","path":"aws-cdk-dynamodb/Table/Key","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0","metadata":[{"description":"*","enableKeyRotation":true}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Table/Key/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"Customer-managed key auto-created for encrypting DynamoDB table at aws-cdk-dynamodb/Table","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Table/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["TableKey25666F95","Arn"]},"sseType":"KMS"}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/Table/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}}}},"TableWithGlobalAndLocalSecondaryIndex":{"id":"TableWithGlobalAndLocalSecondaryIndex","path":"aws-cdk-dynamodb/TableWithGlobalAndLocalSecondaryIndex","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"0.0.0","metadata":[{"pointInTimeRecovery":true,"encryption":"AWS_MANAGED","stream":"KEYS_ONLY","timeToLiveAttribute":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"N"},"removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"readCapacity":"*","writeCapacity":"*"}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"KEYS_ONLY"}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"INCLUDE","nonKeyAttributes":"*"}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"N"}}]},{"addLocalSecondaryIndex":[{"indexName":"*","sortKey":{"name":"*","type":"N"}}]},{"addLocalSecondaryIndex":[{"indexName":"*","sortKey":{"name":"*","type":"N"}}]},{"addLocalSecondaryIndex":[{"indexName":"*","sortKey":{"name":"*","type":"N"},"projectionType":"KEYS_ONLY"}]},{"addLocalSecondaryIndex":[{"indexName":"*","sortKey":{"name":"*","type":"N"},"projectionType":"INCLUDE","nonKeyAttributes":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithGlobalAndLocalSecondaryIndex/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"},{"attributeName":"sortKey","attributeType":"N"},{"attributeName":"gsiHashKey","attributeType":"S"},{"attributeName":"gsiSortKey","attributeType":"N"},{"attributeName":"lsiSortKey","attributeType":"N"}],"globalSecondaryIndexes":[{"indexName":"GSI-PartitionKeyOnly","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"GSI-PartitionAndSortKeyWithReadAndWriteCapacity","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"},{"attributeName":"gsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":10,"writeCapacityUnits":10}},{"indexName":"GSI-ProjectionTypeKeysOnly","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"},{"attributeName":"gsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"KEYS_ONLY"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"GSI-ProjectionTypeInclude","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"},{"attributeName":"gsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"INCLUDE","nonKeyAttributes":["A","B","C","D","E","F","G","H","I","J"]},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"GSI-InverseTableKeySchema","keySchema":[{"attributeName":"sortKey","keyType":"HASH"},{"attributeName":"hashKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"sortKey","keyType":"RANGE"}],"localSecondaryIndexes":[{"indexName":"LSI-PartitionAndTableSortKey","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"LSI-PartitionAndSortKey","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"sortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"LSI-ProjectionTypeKeysOnly","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"KEYS_ONLY"}},{"indexName":"LSI-ProjectionTypeInclude","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"INCLUDE","nonKeyAttributes":["K","L","M","N","O","P","Q","R","S","T"]}}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"sseSpecification":{"sseEnabled":true},"streamSpecification":{"streamViewType":"KEYS_ONLY"},"tags":[{"key":"Environment","value":"Production"}],"timeToLiveSpecification":{"attributeName":"timeToLive","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithGlobalAndLocalSecondaryIndex/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}}}},"Key":{"id":"Key","path":"aws-cdk-dynamodb/Key","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0","metadata":[{"enableKeyRotation":true}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Key/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"TableWithGlobalSecondaryIndex":{"id":"TableWithGlobalSecondaryIndex","path":"aws-cdk-dynamodb/TableWithGlobalSecondaryIndex","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"0.0.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"removalPolicy":"destroy","encryptionKey":"*"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithGlobalSecondaryIndex/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"},{"attributeName":"gsiHashKey","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"GSI-PartitionKeyOnly","keySchema":[{"attributeName":"gsiHashKey","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"sseSpecification":{"sseEnabled":true,"kmsMasterKeyId":{"Fn::GetAtt":["Key961B73FD","Arn"]},"sseType":"KMS"}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithGlobalSecondaryIndex/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}}}},"TableWithLocalSecondaryIndex":{"id":"TableWithLocalSecondaryIndex","path":"aws-cdk-dynamodb/TableWithLocalSecondaryIndex","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"0.0.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"N"},"removalPolicy":"destroy","encryption":"AWS_OWNED"},{"addLocalSecondaryIndex":[{"indexName":"*","sortKey":{"name":"*","type":"N"}}]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/TableWithLocalSecondaryIndex/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"hashKey","attributeType":"S"},{"attributeName":"sortKey","attributeType":"N"},{"attributeName":"lsiSortKey","attributeType":"N"}],"keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"sortKey","keyType":"RANGE"}],"localSecondaryIndexes":[{"indexName":"LSI-PartitionAndSortKey","keySchema":[{"attributeName":"hashKey","keyType":"HASH"},{"attributeName":"lsiSortKey","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5},"sseSpecification":{"sseEnabled":false}}}},"ScalingRole":{"id":"ScalingRole","path":"aws-cdk-dynamodb/TableWithLocalSecondaryIndex/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}}}},"Role":{"id":"Role","path":"aws-cdk-dynamodb/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-cdk-dynamodb/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"sqs.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-dynamodb/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-cdk-dynamodb/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["TableKey25666F95","Arn"]}},{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["TableCD117FA1","Arn"]},{"Fn::GetAtt":["TableWithGlobalAndLocalSecondaryIndexBC540710","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["TableWithGlobalAndLocalSecondaryIndexBC540710","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"RoleDefaultPolicy5FFB7DAB","roles":[{"Ref":"Role1ABCC5F0"}]}}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-dynamodb/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-dynamodb/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}