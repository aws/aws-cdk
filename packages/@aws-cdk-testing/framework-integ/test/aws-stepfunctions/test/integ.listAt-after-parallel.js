"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = require("aws-cdk-lib");
const integ = require("@aws-cdk/integ-tests-alpha");
const sfn = require("aws-cdk-lib/aws-stepfunctions");
const app = new cdk.App();
const stack = new cdk.Stack(app, 'listAt-after-parallel');
const passStringList = new sfn.Pass(stack, 'PSL', {
    parameters: { 'newStringList.$': '$.stringList' },
});
const passSingleString = new sfn.Pass(stack, 'PSS', {
    parameters: { 'newSingleString.$': '$.singleString' },
});
const parallel = new sfn.Parallel(stack, 'PRL', {
    resultPath: '$',
});
parallel.branch(passStringList).branch(passSingleString);
const joinPass = new sfn.Pass(stack, 'JP', {
    parameters: {
        'resultStringList.$': sfn.JsonPath.listAt('$[0].newStringList'),
        'newSingleString.$': '$[1].newSingleString',
    },
});
const chain = sfn.Chain.start(parallel).next(joinPass);
new sfn.StateMachine(stack, 'StateMachine', {
    definition: chain,
    timeout: cdk.Duration.seconds(30),
});
new integ.IntegTest(app, 'ListAtAfterParallel', {
    testCases: [stack],
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcubGlzdEF0LWFmdGVyLXBhcmFsbGVsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZWcubGlzdEF0LWFmdGVyLXBhcmFsbGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUNBQW1DO0FBQ25DLG9EQUFvRDtBQUNwRCxxREFBcUQ7QUFFckQsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDMUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0FBRTFELE1BQU0sY0FBYyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQ2hELFVBQVUsRUFBRSxFQUFFLGlCQUFpQixFQUFFLGNBQWMsRUFBRTtDQUNsRCxDQUFDLENBQUM7QUFDSCxNQUFNLGdCQUFnQixHQUFHLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQ2xELFVBQVUsRUFBRSxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFO0NBQ3RELENBQUMsQ0FBQztBQUVILE1BQU0sUUFBUSxHQUFHLElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQzlDLFVBQVUsRUFBRSxHQUFHO0NBQ2hCLENBQUMsQ0FBQztBQUNILFFBQVEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFFekQsTUFBTSxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUU7SUFDekMsVUFBVSxFQUFFO1FBQ1Ysb0JBQW9CLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUM7UUFDL0QsbUJBQW1CLEVBQUUsc0JBQXNCO0tBQzVDO0NBQ0YsQ0FBQyxDQUFDO0FBRUgsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRXZELElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFO0lBQzFDLFVBQVUsRUFBRSxLQUFLO0lBQ2pCLE9BQU8sRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7Q0FDbEMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxxQkFBcUIsRUFBRTtJQUM5QyxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUM7Q0FDbkIsQ0FBQyxDQUFDO0FBRUgsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCAqIGFzIGludGVnIGZyb20gJ0Bhd3MtY2RrL2ludGVnLXRlc3RzLWFscGhhJztcbmltcG9ydCAqIGFzIHNmbiBmcm9tICdhd3MtY2RrLWxpYi9hd3Mtc3RlcGZ1bmN0aW9ucyc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5jb25zdCBzdGFjayA9IG5ldyBjZGsuU3RhY2soYXBwLCAnbGlzdEF0LWFmdGVyLXBhcmFsbGVsJyk7XG5cbmNvbnN0IHBhc3NTdHJpbmdMaXN0ID0gbmV3IHNmbi5QYXNzKHN0YWNrLCAnUFNMJywge1xuICBwYXJhbWV0ZXJzOiB7ICduZXdTdHJpbmdMaXN0LiQnOiAnJC5zdHJpbmdMaXN0JyB9LFxufSk7XG5jb25zdCBwYXNzU2luZ2xlU3RyaW5nID0gbmV3IHNmbi5QYXNzKHN0YWNrLCAnUFNTJywge1xuICBwYXJhbWV0ZXJzOiB7ICduZXdTaW5nbGVTdHJpbmcuJCc6ICckLnNpbmdsZVN0cmluZycgfSxcbn0pO1xuXG5jb25zdCBwYXJhbGxlbCA9IG5ldyBzZm4uUGFyYWxsZWwoc3RhY2ssICdQUkwnLCB7XG4gIHJlc3VsdFBhdGg6ICckJyxcbn0pO1xucGFyYWxsZWwuYnJhbmNoKHBhc3NTdHJpbmdMaXN0KS5icmFuY2gocGFzc1NpbmdsZVN0cmluZyk7XG5cbmNvbnN0IGpvaW5QYXNzID0gbmV3IHNmbi5QYXNzKHN0YWNrLCAnSlAnLCB7XG4gIHBhcmFtZXRlcnM6IHtcbiAgICAncmVzdWx0U3RyaW5nTGlzdC4kJzogc2ZuLkpzb25QYXRoLmxpc3RBdCgnJFswXS5uZXdTdHJpbmdMaXN0JyksXG4gICAgJ25ld1NpbmdsZVN0cmluZy4kJzogJyRbMV0ubmV3U2luZ2xlU3RyaW5nJyxcbiAgfSxcbn0pO1xuXG5jb25zdCBjaGFpbiA9IHNmbi5DaGFpbi5zdGFydChwYXJhbGxlbCkubmV4dChqb2luUGFzcyk7XG5cbm5ldyBzZm4uU3RhdGVNYWNoaW5lKHN0YWNrLCAnU3RhdGVNYWNoaW5lJywge1xuICBkZWZpbml0aW9uOiBjaGFpbixcbiAgdGltZW91dDogY2RrLkR1cmF0aW9uLnNlY29uZHMoMzApLFxufSk7XG5cbm5ldyBpbnRlZy5JbnRlZ1Rlc3QoYXBwLCAnTGlzdEF0QWZ0ZXJQYXJhbGxlbCcsIHtcbiAgdGVzdENhc2VzOiBbc3RhY2tdLFxufSk7XG5cbmFwcC5zeW50aCgpOyJdfQ==