{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"RecordFormatConversion":{"id":"RecordFormatConversion","path":"RecordFormatConversion","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"Bucket":{"id":"Bucket","path":"RecordFormatConversion/Bucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0","metadata":[{"removalPolicy":"destroy","autoDeleteObjects":true}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/Bucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"RecordFormatConversion/Bucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"0.0.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/Bucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"Bucket83908E77"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"RecordFormatConversion/Bucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"RecordFormatConversion/Bucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"RecordFormatConversion/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"0.0.0"},"children":{"Staging":{"id":"Staging","path":"RecordFormatConversion/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"RecordFormatConversion/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"RecordFormatConversion/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"Database":{"id":"Database","path":"RecordFormatConversion/Database","constructInfo":{"fqn":"aws-cdk-lib.aws_glue.CfnDatabase","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Glue::Database","aws:cdk:cloudformation:props":{"catalogId":{"Ref":"AWS::AccountId"},"databaseInput":{"description":"My database"}}}},"InlineSchemaTable":{"id":"InlineSchemaTable","path":"RecordFormatConversion/InlineSchemaTable","constructInfo":{"fqn":"aws-cdk-lib.aws_glue.CfnTable","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Glue::Table","aws:cdk:cloudformation:props":{"catalogId":{"Ref":"AWS::AccountId"},"databaseName":{"Ref":"Database"},"tableInput":{"storageDescriptor":{"columns":[{"name":"column_a","type":"string"},{"name":"column_b","type":"string"}]}}}}},"DefaultHiveJsonOrc":{"id":"DefaultHiveJsonOrc","path":"RecordFormatConversion/DefaultHiveJsonOrc","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/DefaultHiveJsonOrc/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/DefaultHiveJsonOrc/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultHiveJsonOrc/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/DefaultHiveJsonOrc/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultHiveJsonOrc/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DefaultHiveJsonOrcLogGroupE45B2BEC","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DefaultHiveJsonOrcS3DestinationRoleDefaultPolicy3385F735","roles":[{"Ref":"DefaultHiveJsonOrcS3DestinationRole0A77EF4A"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/DefaultHiveJsonOrc/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultHiveJsonOrc/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/DefaultHiveJsonOrc/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultHiveJsonOrc/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"DefaultHiveJsonOrcLogGroupE45B2BEC"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultHiveJsonOrc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"DefaultHiveJsonOrcLogGroupE45B2BEC"},"logStreamName":{"Ref":"DefaultHiveJsonOrcLogGroupS3Destination51B88CDA"}},"roleArn":{"Fn::GetAtt":["DefaultHiveJsonOrcS3DestinationRole0A77EF4A","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["DefaultHiveJsonOrcS3DestinationRole0A77EF4A","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"hiveJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"orcSerDe":{}}}},"errorOutputPrefix":"error/DefaultHiveJsonOrc/","prefix":"success/DefaultHiveJsonOrc/"}}}}}},"@aws-cdk--aws-kinesisfirehose.CidrBlocks":{"id":"@aws-cdk--aws-kinesisfirehose.CidrBlocks","path":"RecordFormatConversion/@aws-cdk--aws-kinesisfirehose.CidrBlocks","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"0.0.0"}},"DefaultOpenXJsonParquet":{"id":"DefaultOpenXJsonParquet","path":"RecordFormatConversion/DefaultOpenXJsonParquet","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/DefaultOpenXJsonParquet/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/DefaultOpenXJsonParquet/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultOpenXJsonParquet/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/DefaultOpenXJsonParquet/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultOpenXJsonParquet/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DefaultOpenXJsonParquetLogGroupEBB4026F","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DefaultOpenXJsonParquetS3DestinationRoleDefaultPolicy87714BCD","roles":[{"Ref":"DefaultOpenXJsonParquetS3DestinationRole11E1A1BD"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/DefaultOpenXJsonParquet/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultOpenXJsonParquet/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/DefaultOpenXJsonParquet/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultOpenXJsonParquet/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"DefaultOpenXJsonParquetLogGroupEBB4026F"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/DefaultOpenXJsonParquet/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"DefaultOpenXJsonParquetLogGroupEBB4026F"},"logStreamName":{"Ref":"DefaultOpenXJsonParquetLogGroupS3Destination368F89E9"}},"roleArn":{"Fn::GetAtt":["DefaultOpenXJsonParquetS3DestinationRole11E1A1BD","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["DefaultOpenXJsonParquetS3DestinationRole11E1A1BD","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"parquetSerDe":{}}}},"errorOutputPrefix":"error/DefaultOpenXJsonParquet/","prefix":"success/DefaultOpenXJsonParquet/"}}}}}},"CustomHiveJson":{"id":"CustomHiveJson","path":"RecordFormatConversion/CustomHiveJson","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomHiveJson/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomHiveJson/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomHiveJson/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomHiveJson/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomHiveJson/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomHiveJsonLogGroupB373D61F","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomHiveJsonS3DestinationRoleDefaultPolicyACED2367","roles":[{"Ref":"CustomHiveJsonS3DestinationRole9C57602D"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomHiveJson/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomHiveJson/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomHiveJson/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomHiveJson/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomHiveJsonLogGroupB373D61F"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomHiveJson/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomHiveJsonLogGroupB373D61F"},"logStreamName":{"Ref":"CustomHiveJsonLogGroupS3DestinationD213FD89"}},"roleArn":{"Fn::GetAtt":["CustomHiveJsonS3DestinationRole9C57602D","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomHiveJsonS3DestinationRole9C57602D","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"hiveJsonSerDe":{"timestampFormats":["millis","yyyy-MM-dd"]}}},"outputFormatConfiguration":{"serializer":{"orcSerDe":{}}}},"errorOutputPrefix":"error/CustomHiveJson/","prefix":"success/CustomHiveJson/"}}}}}},"CustomOpenXJson":{"id":"CustomOpenXJson","path":"RecordFormatConversion/CustomOpenXJson","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomOpenXJson/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomOpenXJson/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOpenXJson/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomOpenXJson/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOpenXJson/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomOpenXJsonLogGroup22FF7B23","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomOpenXJsonS3DestinationRoleDefaultPolicy83F691AA","roles":[{"Ref":"CustomOpenXJsonS3DestinationRole07AAE423"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomOpenXJson/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOpenXJson/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomOpenXJson/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOpenXJson/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomOpenXJsonLogGroup22FF7B23"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOpenXJson/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomOpenXJsonLogGroup22FF7B23"},"logStreamName":{"Ref":"CustomOpenXJsonLogGroupS3Destination672CF942"}},"roleArn":{"Fn::GetAtt":["CustomOpenXJsonS3DestinationRole07AAE423","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomOpenXJsonS3DestinationRole07AAE423","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{"caseInsensitive":false,"columnToJsonKeyMappings":{"column_yay":"Column_A"},"convertDotsInJsonKeysToUnderscores":true}}},"outputFormatConfiguration":{"serializer":{"parquetSerDe":{}}}},"errorOutputPrefix":"error/CustomOpenXJson/","prefix":"success/CustomOpenXJson/"}}}}}},"CustomOrc":{"id":"CustomOrc","path":"RecordFormatConversion/CustomOrc","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomOrc/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomOrc/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrc/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomOrc/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrc/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomOrcLogGroup0ECA964A","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomOrcS3DestinationRoleDefaultPolicy5A89ECB3","roles":[{"Ref":"CustomOrcS3DestinationRoleE1E7001A"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomOrc/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrc/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomOrc/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrc/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomOrcLogGroup0ECA964A"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomOrcLogGroup0ECA964A"},"logStreamName":{"Ref":"CustomOrcLogGroupS3DestinationD3E81901"}},"roleArn":{"Fn::GetAtt":["CustomOrcS3DestinationRoleE1E7001A","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomOrcS3DestinationRoleE1E7001A","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"orcSerDe":{"blockSizeBytes":268435456,"bloomFilterColumns":["column_a"],"bloomFilterFalsePositiveProbability":0.5,"compression":"NONE","dictionaryKeyThreshold":0.3,"enablePadding":true,"formatVersion":"V0_11","paddingTolerance":0.4,"rowIndexStride":5000,"stripeSizeBytes":33554432}}}},"errorOutputPrefix":"error/CustomOrc/","prefix":"success/CustomOrc/"}}}}}},"CustomOrcZlib":{"id":"CustomOrcZlib","path":"RecordFormatConversion/CustomOrcZlib","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomOrcZlib/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomOrcZlib/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcZlib/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomOrcZlib/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcZlib/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomOrcZlibLogGroup87CF80F5","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomOrcZlibS3DestinationRoleDefaultPolicyE3B696C4","roles":[{"Ref":"CustomOrcZlibS3DestinationRoleE46A456E"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomOrcZlib/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcZlib/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomOrcZlib/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcZlib/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomOrcZlibLogGroup87CF80F5"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcZlib/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomOrcZlibLogGroup87CF80F5"},"logStreamName":{"Ref":"CustomOrcZlibLogGroupS3Destination870D296F"}},"roleArn":{"Fn::GetAtt":["CustomOrcZlibS3DestinationRoleE46A456E","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomOrcZlibS3DestinationRoleE46A456E","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"orcSerDe":{"compression":"ZLIB","formatVersion":"V0_12"}}}},"errorOutputPrefix":"error/CustomOrcZlib/","prefix":"success/CustomOrcZlib/"}}}}}},"CustomOrcSnappy":{"id":"CustomOrcSnappy","path":"RecordFormatConversion/CustomOrcSnappy","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomOrcSnappy/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomOrcSnappy/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcSnappy/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomOrcSnappy/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcSnappy/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomOrcSnappyLogGroup4F6B90CA","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomOrcSnappyS3DestinationRoleDefaultPolicyF25E97AE","roles":[{"Ref":"CustomOrcSnappyS3DestinationRole995AB685"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomOrcSnappy/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcSnappy/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomOrcSnappy/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcSnappy/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomOrcSnappyLogGroup4F6B90CA"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomOrcSnappy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomOrcSnappyLogGroup4F6B90CA"},"logStreamName":{"Ref":"CustomOrcSnappyLogGroupS3Destination7CFC2383"}},"roleArn":{"Fn::GetAtt":["CustomOrcSnappyS3DestinationRole995AB685","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomOrcSnappyS3DestinationRole995AB685","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"orcSerDe":{"compression":"SNAPPY"}}}},"errorOutputPrefix":"error/CustomOrcSnappy/","prefix":"success/CustomOrcSnappy/"}}}}}},"CustomParquet":{"id":"CustomParquet","path":"RecordFormatConversion/CustomParquet","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomParquet/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomParquet/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquet/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomParquet/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquet/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomParquetLogGroup676E9A45","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomParquetS3DestinationRoleDefaultPolicyC988AB56","roles":[{"Ref":"CustomParquetS3DestinationRole22BF6D43"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomParquet/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquet/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomParquet/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquet/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomParquetLogGroup676E9A45"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquet/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomParquetLogGroup676E9A45"},"logStreamName":{"Ref":"CustomParquetLogGroupS3Destination57EC9E48"}},"roleArn":{"Fn::GetAtt":["CustomParquetS3DestinationRole22BF6D43","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomParquetS3DestinationRole22BF6D43","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"parquetSerDe":{"blockSizeBytes":134217728,"compression":"UNCOMPRESSED","enableDictionaryCompression":true,"maxPaddingBytes":100,"pageSizeBytes":2097152,"writerVersion":"V2"}}}},"errorOutputPrefix":"error/CustomParquet/","prefix":"success/CustomParquet/"}}}}}},"CustomParquetGzip":{"id":"CustomParquetGzip","path":"RecordFormatConversion/CustomParquetGzip","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomParquetGzip/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomParquetGzip/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetGzip/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomParquetGzip/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetGzip/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomParquetGzipLogGroup504E4231","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomParquetGzipS3DestinationRoleDefaultPolicy5968D435","roles":[{"Ref":"CustomParquetGzipS3DestinationRoleD295866D"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomParquetGzip/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetGzip/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomParquetGzip/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetGzip/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomParquetGzipLogGroup504E4231"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetGzip/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomParquetGzipLogGroup504E4231"},"logStreamName":{"Ref":"CustomParquetGzipLogGroupS3DestinationB3D25C36"}},"roleArn":{"Fn::GetAtt":["CustomParquetGzipS3DestinationRoleD295866D","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomParquetGzipS3DestinationRoleD295866D","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"parquetSerDe":{"compression":"GZIP","writerVersion":"V1"}}}},"errorOutputPrefix":"error/CustomParquetGzip/","prefix":"success/CustomParquetGzip/"}}}}}},"CustomParquetSnappy":{"id":"CustomParquetSnappy","path":"RecordFormatConversion/CustomParquetSnappy","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.DeliveryStream","version":"0.0.0","metadata":[{"destination":"*"}]},"children":{"S3 Destination Role":{"id":"S3 Destination Role","path":"RecordFormatConversion/CustomParquetSnappy/S3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportS3 Destination Role":{"id":"ImportS3 Destination Role","path":"RecordFormatConversion/CustomParquetSnappy/S3 Destination Role/ImportS3 Destination Role","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetSnappy/S3 Destination Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"firehose.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RecordFormatConversion/CustomParquetSnappy/S3 Destination Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetSnappy/S3 Destination Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Bucket83908E77","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Bucket83908E77","Arn"]},"/*"]]}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["CustomParquetSnappyLogGroup3EC6F154","Arn"]}},{"Action":["glue:GetTable","glue:GetTableVersion","glue:GetTableVersions"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":catalog"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":database/",{"Ref":"Database"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":glue:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":table/",{"Ref":"Database"},"/",{"Ref":"InlineSchemaTable"}]]}]},{"Action":"glue:GetSchemaVersion","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomParquetSnappyS3DestinationRoleDefaultPolicyED54CDC3","roles":[{"Ref":"CustomParquetSnappyS3DestinationRole5E1ADD26"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"RecordFormatConversion/CustomParquetSnappy/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetSnappy/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731}}},"S3Destination":{"id":"S3Destination","path":"RecordFormatConversion/CustomParquetSnappy/LogGroup/S3Destination","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogStream","version":"0.0.0","metadata":[{"logGroup":"*"}]},"children":{"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetSnappy/LogGroup/S3Destination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogStream","aws:cdk:cloudformation:props":{"logGroupName":{"Ref":"CustomParquetSnappyLogGroup3EC6F154"}}}}}}}},"Resource":{"id":"Resource","path":"RecordFormatConversion/CustomParquetSnappy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kinesisfirehose.CfnDeliveryStream","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KinesisFirehose::DeliveryStream","aws:cdk:cloudformation:props":{"deliveryStreamType":"DirectPut","extendedS3DestinationConfiguration":{"cloudWatchLoggingOptions":{"enabled":true,"logGroupName":{"Ref":"CustomParquetSnappyLogGroup3EC6F154"},"logStreamName":{"Ref":"CustomParquetSnappyLogGroupS3DestinationDDDB5ADC"}},"roleArn":{"Fn::GetAtt":["CustomParquetSnappyS3DestinationRole5E1ADD26","Arn"]},"bufferingHints":{"intervalInSeconds":0,"sizeInMBs":128},"bucketArn":{"Fn::GetAtt":["Bucket83908E77","Arn"]},"dataFormatConversionConfiguration":{"enabled":true,"schemaConfiguration":{"roleArn":{"Fn::GetAtt":["CustomParquetSnappyS3DestinationRole5E1ADD26","Arn"]},"region":{"Ref":"AWS::Region"},"tableName":{"Ref":"InlineSchemaTable"},"databaseName":{"Ref":"Database"},"versionId":"LATEST","catalogId":{"Ref":"AWS::AccountId"}},"inputFormatConfiguration":{"deserializer":{"openXJsonSerDe":{}}},"outputFormatConfiguration":{"serializer":{"parquetSerDe":{"compression":"SNAPPY"}}}},"errorOutputPrefix":"error/CustomParquetSnappy/","prefix":"success/CustomParquetSnappy/"}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RecordFormatConversion/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RecordFormatConversion/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"RecordFormatConversionTest":{"id":"RecordFormatConversionTest","path":"RecordFormatConversionTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"RecordFormatConversionTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"RecordFormatConversionTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"RecordFormatConversionTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"RecordFormatConversionTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RecordFormatConversionTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}