{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"aws-cdk-codepipeline-alexa-deploy":{"id":"aws-cdk-codepipeline-alexa-deploy","path":"aws-cdk-codepipeline-alexa-deploy","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"PipelineBucket":{"id":"PipelineBucket","path":"aws-cdk-codepipeline-alexa-deploy/PipelineBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/PipelineBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"versioningConfiguration":{"status":"Enabled"}}}}}},"Pipeline":{"id":"Pipeline","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"0.0.0"},"children":{"ArtifactsBucketEncryptionKey":{"id":"ArtifactsBucketEncryptionKey","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucketEncryptionKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucketEncryptionKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"ArtifactsBucketEncryptionKeyAlias":{"id":"ArtifactsBucketEncryptionKeyAlias","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucketEncryptionKeyAlias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucketEncryptionKeyAlias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/codepipeline-aws-cdk-codepipeline-alexa-deploy-pipeline-961107f5","targetKeyId":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}}}}},"ArtifactsBucket":{"id":"ArtifactsBucket","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"PipelineArtifactsBucket22248F97"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":{"Fn::GetAtt":["PipelineSourceCodePipelineActionRoleC6F9E7F5","Arn"]}}],"Version":"2012-10-17"},"policyName":"PipelineRoleDefaultPolicyC7A05455","roles":[{"Ref":"PipelineRoleD68726F7"}]}}}}}}},"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"PipelineArtifactsBucket22248F97"},"encryptionKey":{"type":"KMS","id":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}},"roleArn":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]},"stages":[{"name":"Source","actions":[{"name":"Source","outputArtifacts":[{"name":"SourceArtifact"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"S3"},"configuration":{"S3Bucket":{"Ref":"PipelineBucketB967BD35"},"S3ObjectKey":"key"},"runOrder":1,"roleArn":{"Fn::GetAtt":["PipelineSourceCodePipelineActionRoleC6F9E7F5","Arn"]}}]},{"name":"Deploy","actions":[{"name":"DeploySkill","inputArtifacts":[{"name":"SourceArtifact"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"ThirdParty","provider":"AlexaSkillsKit"},"configuration":{"ClientId":"clientId","ClientSecret":"clientSecret","RefreshToken":"refreshToken","SkillId":"amzn1.ask.skill.12345678-1234-1234-1234-123456789012"},"runOrder":1}]}]}}},"Source":{"id":"Source","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Source":{"id":"Source","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Source/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Source/Source/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Source/Source/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["PipelineRoleD68726F7","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Source/Source/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Source/Source/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineBucketB967BD35","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineBucketB967BD35","Arn"]},"/key"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PipelineArtifactsBucket22248F97","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["PipelineArtifactsBucketEncryptionKey01D58D69","Arn"]}}],"Version":"2012-10-17"},"policyName":"PipelineSourceCodePipelineActionRoleDefaultPolicy2D565925","roles":[{"Ref":"PipelineSourceCodePipelineActionRoleC6F9E7F5"}]}}}}}}}}}}},"Deploy":{"id":"Deploy","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"DeploySkill":{"id":"DeploySkill","path":"aws-cdk-codepipeline-alexa-deploy/Pipeline/Deploy/DeploySkill","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-codepipeline-alexa-deploy/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-codepipeline-alexa-deploy/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"integ.pipeline-alexa-deploy":{"id":"integ.pipeline-alexa-deploy","path":"integ.pipeline-alexa-deploy","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"integ.pipeline-alexa-deploy/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"integ.pipeline-alexa-deploy/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}},"DeployAssert":{"id":"DeployAssert","path":"integ.pipeline-alexa-deploy/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"integ.pipeline-alexa-deploy/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"integ.pipeline-alexa-deploy/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}