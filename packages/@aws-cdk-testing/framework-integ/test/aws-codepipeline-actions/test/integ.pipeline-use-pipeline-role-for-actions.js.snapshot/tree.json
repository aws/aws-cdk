{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"aws-cdk-integ-test-service-roles-for-actions":{"id":"aws-cdk-integ-test-service-roles-for-actions","path":"aws-cdk-integ-test-service-roles-for-actions","children":{"test-connection":{"id":"test-connection","path":"aws-cdk-integ-test-service-roles-for-actions/test-connection","attributes":{"aws:cdk:cloudformation:type":"AWS::CodeStarConnections::Connection","aws:cdk:cloudformation:props":{"connectionName":"test-connection","providerType":"GitHub"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codestarconnections.CfnConnection","version":"0.0.0"}},"cp-trigger-integ-test":{"id":"cp-trigger-integ-test","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test","children":{"Role":{"id":"Role","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test/Role","children":{"ImportRole":{"id":"ImportRole","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test/Role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test/Role/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test/Role/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"cptriggerintegtest783F89DB"},":*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":logs:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":log-group:/aws/codebuild/",{"Ref":"cptriggerintegtest783F89DB"}]]}]},{"Action":["codebuild:BatchPutCodeCoverages","codebuild:BatchPutTestCases","codebuild:CreateReport","codebuild:CreateReportGroup","codebuild:UpdateReport"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":codebuild:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":report-group/",{"Ref":"cptriggerintegtest783F89DB"},"-*"]]}},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"cptriggerintegtestRoleDefaultPolicy88066F74","roles":[{"Ref":"cptriggerintegtestRole1542C66E"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/cp-trigger-integ-test/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CodeBuild::Project","aws:cdk:cloudformation:props":{"artifacts":{"type":"CODEPIPELINE"},"cache":{"type":"NO_CACHE"},"encryptionKey":"alias/aws/s3","environment":{"type":"LINUX_CONTAINER","image":"aws/codebuild/standard:7.0","imagePullCredentialsType":"CODEBUILD","privilegedMode":false,"computeType":"BUILD_GENERAL1_SMALL"},"serviceRole":{"Fn::GetAtt":["cptriggerintegtestRole1542C66E","Arn"]},"source":{"type":"CODEPIPELINE"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.CfnProject","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codebuild.PipelineProject","version":"0.0.0","metadata":[{},"*",{}]}},"codepipeline-integ-trigger-test":{"id":"codepipeline-integ-trigger-test","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test","children":{"ArtifactsBucket":{"id":"ArtifactsBucket","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/ArtifactsBucket","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/ArtifactsBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"}},"Policy":{"id":"Policy","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/ArtifactsBucket/Policy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/ArtifactsBucket/Policy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"codepipelineintegtriggertestArtifactsBucketBC94925B"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"0.0.0","metadata":[{"bucket":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0","metadata":[{"bucketName":"*","encryptionKey":"*","encryption":"KMS_MANAGED","enforceSSL":true,"blockPublicAccess":"*","removalPolicy":"retain"}]}},"Role":{"id":"Role","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Role","children":{"ImportRole":{"id":"ImportRole","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Role/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Role/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},"/*"]]}]},{"Action":"codestar-connections:UseConnection","Effect":"Allow","Resource":{"Fn::GetAtt":["testconnection","ConnectionArn"]}},{"Action":["s3:PutObjectAcl","s3:PutObjectVersionAcl"],"Effect":"Allow","Resource":{"Fn::Join":["",[{"Fn::GetAtt":["codepipelineintegtriggertestArtifactsBucketBC94925B","Arn"]},"/*"]]}},{"Action":["codebuild:BatchGetBuilds","codebuild:StartBuild","codebuild:StopBuild"],"Effect":"Allow","Resource":{"Fn::GetAtt":["cptriggerintegtest783F89DB","Arn"]}}],"Version":"2012-10-17"},"policyName":"codepipelineintegtriggertestRoleDefaultPolicy98BF275A","roles":[{"Ref":"codepipelineintegtriggertestRoleAFD97C44"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"Resource":{"id":"Resource","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"codepipelineintegtriggertestArtifactsBucketBC94925B"}},"name":"codepipeline-integ-trigger-test","pipelineType":"V2","roleArn":{"Fn::GetAtt":["codepipelineintegtriggertestRoleAFD97C44","Arn"]},"stages":[{"name":"Source","actions":[{"name":"integ-action-name","outputArtifacts":[{"name":"Artifact_Source_integ-action-name"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"CodeStarSourceConnection"},"configuration":{"ConnectionArn":{"Fn::GetAtt":["testconnection","ConnectionArn"]},"FullRepositoryId":"cp-dev/cp-triggers-integ-repo","BranchName":"master"},"runOrder":1,"namespace":"Source_integ-action-name_NS"}]},{"name":"Build","actions":[{"name":"CodeBuildAction","inputArtifacts":[{"name":"Artifact_Source_integ-action-name"}],"outputArtifacts":[{"name":"Artifact_Build_CodeBuildAction"}],"actionTypeId":{"category":"Build","version":"1","owner":"AWS","provider":"CodeBuild"},"configuration":{"ProjectName":{"Ref":"cptriggerintegtest783F89DB"},"EnvironmentVariables":"[{\"name\":\"CommitId\",\"type\":\"PLAINTEXT\",\"value\":\"#{Source_integ-action-name_NS.CommitId}\"}]"},"runOrder":1}]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"0.0.0"}},"Source":{"id":"Source","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Source","children":{"integ-action-name":{"id":"integ-action-name","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Source/integ-action-name","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Build":{"id":"Build","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Build","children":{"CodeBuildAction":{"id":"CodeBuildAction","path":"aws-cdk-integ-test-service-roles-for-actions/codepipeline-integ-trigger-test/Build/CodeBuildAction","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"0.0.0","metadata":[{"pipelineName":"*","stages":[{"stageName":"*","actions":[{}]},{"stageName":"*","actions":[{}]}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]}]}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-cdk-integ-test-service-roles-for-actions/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-cdk-integ-test-service-roles-for-actions/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"}},"codepipeline-integ-test":{"id":"codepipeline-integ-test","path":"codepipeline-integ-test","children":{"DefaultTest":{"id":"DefaultTest","path":"codepipeline-integ-test/DefaultTest","children":{"Default":{"id":"Default","path":"codepipeline-integ-test/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"codepipeline-integ-test/DefaultTest/DeployAssert","children":{"AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310":{"id":"AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310","children":{"SdkProvider":{"id":"SdkProvider","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310/SdkProvider","children":{"AssertionsProvider":{"id":"AssertionsProvider","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310/SdkProvider/AssertionsProvider","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AssertionsProvider","version":"0.0.0"}},"Default":{"id":"Default","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310/Default","children":{"Default":{"id":"Default","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310/Default/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*","*","*"]}},"AssertionResults":{"id":"AssertionResults","path":"codepipeline-integ-test/DefaultTest/DeployAssert/AwsApiCallCodePipelinegetPipeline31c434352ef5472b791f93bb260a9310/AssertionResults","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.AwsApiCall","version":"0.0.0"}},"SingletonFunction1488541a7b23466481b69b4408076b81":{"id":"SingletonFunction1488541a7b23466481b69b4408076b81","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81","children":{"Staging":{"id":"Staging","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"codepipeline-integ-test/DefaultTest/DeployAssert/SingletonFunction1488541a7b23466481b69b4408076b81/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"codepipeline-integ-test/DefaultTest/DeployAssert/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"0.0.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"codepipeline-integ-test/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"codepipeline-integ-test/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"}}},"constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"}}}