{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"aws-appconfig-configuration":{"id":"aws-appconfig-configuration","path":"aws-appconfig-configuration","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"MyAppConfig":{"id":"MyAppConfig","path":"aws-appconfig-configuration/MyAppConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Application","version":"0.0.0","metadata":[{"applicationName":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnApplication","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Application","aws:cdk:cloudformation:props":{"name":"AppForConfigTest"}}},"HostedEnv":{"id":"HostedEnv","path":"aws-appconfig-configuration/MyAppConfig/HostedEnv","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/HostedEnv/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-HostedEnv-D1EED3BE"}}}}},"HostedEnvFromJson":{"id":"HostedEnvFromJson","path":"aws-appconfig-configuration/MyAppConfig/HostedEnvFromJson","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/HostedEnvFromJson/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-HostedEnvFromJson-140D2DDD"}}}}},"HostedEnvFromYaml":{"id":"HostedEnvFromYaml","path":"aws-appconfig-configuration/MyAppConfig/HostedEnvFromYaml","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/HostedEnvFromYaml/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-HostedEnvFromYaml-BB2C802A"}}}}},"ParameterEnv":{"id":"ParameterEnv","path":"aws-appconfig-configuration/MyAppConfig/ParameterEnv","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/ParameterEnv/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-ParameterEnv-803E803A"}}}}},"DocumentEnv":{"id":"DocumentEnv","path":"aws-appconfig-configuration/MyAppConfig/DocumentEnv","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/DocumentEnv/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-DocumentEnv-5B0DCEC5"}}}}},"BucketEnv":{"id":"BucketEnv","path":"aws-appconfig-configuration/MyAppConfig/BucketEnv","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/BucketEnv/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-BucketEnv-1A81B6F5"}}}}},"SecretEnv":{"id":"SecretEnv","path":"aws-appconfig-configuration/MyAppConfig/SecretEnv","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/SecretEnv/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-SecretEnv-371FF6BB"}}}}},"SecretEnvWithKey":{"id":"SecretEnvWithKey","path":"aws-appconfig-configuration/MyAppConfig/SecretEnvWithKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.Environment","version":"0.0.0","metadata":[{"application":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyAppConfig/SecretEnvWithKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnEnvironment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Environment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"name":"awsappconfigconfiguration-MyAppConfig-SecretEnvWithKey-8D4A2FFE"}}}}}}},"MyDeployStrategy":{"id":"MyDeployStrategy","path":"aws-appconfig-configuration/MyDeployStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyDeployStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":0,"growthFactor":100,"growthType":"LINEAR","name":"awsappconfigconfiguration-MyDeployStrategy-91730AE8","replicateTo":"NONE"}}}}},"MyHostedConfigFromFile":{"id":"MyHostedConfigFromFile","path":"aws-appconfig-configuration/MyHostedConfigFromFile","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.HostedConfiguration","version":"0.0.0"},"children":{"DeploymentStrategy":{"id":"DeploymentStrategy","path":"aws-appconfig-configuration/MyHostedConfigFromFile/DeploymentStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyHostedConfigFromFile/DeploymentStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":20,"finalBakeTimeInMinutes":10,"growthFactor":10,"growthType":"EXPONENTIAL","name":"awsappconfigconfiguration-MyFromFile-DeploymentStrategy-C2367737","replicateTo":"NONE"}}}}},"ConfigurationProfile":{"id":"ConfigurationProfile","path":"aws-appconfig-configuration/MyHostedConfigFromFile/ConfigurationProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"deletionProtectionCheck":"BYPASS","locationUri":"hosted","name":"awsappconfigconfiguration-MyHostedConfigFromFile-8ED1123C"}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyHostedConfigFromFile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnHostedConfigurationVersion","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::HostedConfigurationVersion","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigFromFileConfigurationProfile32B2D26F"},"content":"{\n  \"content\": \"This is the configuration content\"\n}","contentType":"application/json"}}}}},"MyHostedConfig":{"id":"MyHostedConfig","path":"aws-appconfig-configuration/MyHostedConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.HostedConfiguration","version":"0.0.0"},"children":{"ConfigurationProfile":{"id":"ConfigurationProfile","path":"aws-appconfig-configuration/MyHostedConfig/ConfigurationProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":"hosted","name":"awsappconfigconfiguration-MyHostedConfig-4CF350AE","validators":[{"content":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"string\"\n}","type":"JSON_SCHEMA"},{"content":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"string\"\n}","type":"JSON_SCHEMA"}]}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyHostedConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnHostedConfigurationVersion","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::HostedConfigurationVersion","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigConfigurationProfile2E1A2BBC"},"content":"This is my configuration content.","contentType":"text/plain"}}},"Deployment8E5DB":{"id":"Deployment8E5DB","path":"aws-appconfig-configuration/MyHostedConfig/Deployment8E5DB","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Deployment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigConfigurationProfile2E1A2BBC"},"configurationVersion":{"Ref":"MyHostedConfig51D3877D"},"deploymentStrategyId":{"Ref":"MyDeployStrategy062CAEA2"},"environmentId":{"Ref":"MyAppConfigHostedEnvF39C847E"}}}}}},"MyHostedConfigFromJson":{"id":"MyHostedConfigFromJson","path":"aws-appconfig-configuration/MyHostedConfigFromJson","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.HostedConfiguration","version":"0.0.0"},"children":{"ConfigurationProfile":{"id":"ConfigurationProfile","path":"aws-appconfig-configuration/MyHostedConfigFromJson/ConfigurationProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":"hosted","name":"awsappconfigconfiguration-MyHostedConfigFromJson-3E786E81"}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyHostedConfigFromJson/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnHostedConfigurationVersion","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::HostedConfigurationVersion","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigFromJsonConfigurationProfile863E1E42"},"content":"This is the configuration content","contentType":"text/plain"}}},"Deployment3AC6E":{"id":"Deployment3AC6E","path":"aws-appconfig-configuration/MyHostedConfigFromJson/Deployment3AC6E","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Deployment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigFromJsonConfigurationProfile863E1E42"},"configurationVersion":{"Ref":"MyHostedConfigFromJsonD8CF9BE4"},"deploymentStrategyId":{"Ref":"MyDeployStrategy062CAEA2"},"environmentId":{"Ref":"MyAppConfigHostedEnvFromJson9E6E36C4"}}}}}},"MyHostedConfigFromYaml":{"id":"MyHostedConfigFromYaml","path":"aws-appconfig-configuration/MyHostedConfigFromYaml","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.HostedConfiguration","version":"0.0.0"},"children":{"ConfigurationProfile":{"id":"ConfigurationProfile","path":"aws-appconfig-configuration/MyHostedConfigFromYaml/ConfigurationProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":"hosted","name":"awsappconfigconfiguration-MyHostedConfigFromYaml-87E9786A"}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyHostedConfigFromYaml/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnHostedConfigurationVersion","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::HostedConfigurationVersion","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigFromYamlConfigurationProfile7C77A435"},"content":"This is the configuration content","contentType":"application/x-yaml"}}},"DeploymentD93A5":{"id":"DeploymentD93A5","path":"aws-appconfig-configuration/MyHostedConfigFromYaml/DeploymentD93A5","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Deployment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyHostedConfigFromYamlConfigurationProfile7C77A435"},"configurationVersion":{"Ref":"MyHostedConfigFromYaml13C5BE35"},"deploymentStrategyId":{"Ref":"MyDeployStrategy062CAEA2"},"environmentId":{"Ref":"MyAppConfigHostedEnvFromYaml82D3D1B2"}}}}}},"MyValidatorFunction":{"id":"MyValidatorFunction","path":"aws-appconfig-configuration/MyValidatorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"runtime":"*","handler":"*","code":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"aws-appconfig-configuration/MyValidatorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"aws-appconfig-configuration/MyValidatorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyValidatorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyValidatorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\ndef handler(event, context):\n  print('This is my dummy validator')\n"},"handler":"index.handler","role":{"Fn::GetAtt":["MyValidatorFunctionServiceRole5CD02390","Arn"]},"runtime":"python3.8"}}},"AppConfigPermission":{"id":"AppConfigPermission","path":"aws-appconfig-configuration/MyValidatorFunction/AppConfigPermission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["MyValidatorFunctionA679CB3C","Arn"]},"principal":"appconfig.amazonaws.com"}}}}},"MyParameter":{"id":"MyParameter","path":"aws-appconfig-configuration/MyParameter","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"0.0.0","metadata":[{"stringValue":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyParameter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"type":"String","value":"This is the content stored in ssm parameter"}}}}},"MyConfigFromParameter":{"id":"MyConfigFromParameter","path":"aws-appconfig-configuration/MyConfigFromParameter","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"Role":{"id":"Role","path":"aws-appconfig-configuration/MyConfigFromParameter/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-appconfig-configuration/MyConfigFromParameter/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromParameter/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appconfig.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"AllowAppConfigReadFromSourcePolicy","policyDocument":{"Statement":[{"Action":"ssm:GetParameter","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ssm:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":parameter/",{"Ref":"MyParameter18BA547D"}]]}}],"Version":"2012-10-17"}}]}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromParameter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"deletionProtectionCheck":"BYPASS","description":"This is a configuration profile used for integ testing","locationUri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ssm:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":parameter/",{"Ref":"MyParameter18BA547D"}]]},"name":"TestConfigProfileStoredAsParamater","retrievalRoleArn":{"Fn::GetAtt":["MyConfigFromParameterRole4E40C8BC","Arn"]},"validators":[{"content":{"Fn::GetAtt":["MyValidatorFunctionA679CB3C","Arn"]},"type":"LAMBDA"}]}}},"Deployment28051":{"id":"Deployment28051","path":"aws-appconfig-configuration/MyConfigFromParameter/Deployment28051","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Deployment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyConfigFromParameterDC204468"},"configurationVersion":"1","deploymentStrategyId":{"Ref":"MyDeployStrategy062CAEA2"},"description":"This is a configuration profile used for integ testing","environmentId":{"Ref":"MyAppConfigParameterEnvD769FB19"}}}}}},"MyDocument":{"id":"MyDocument","path":"aws-appconfig-configuration/MyDocument","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnDocument","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Document","aws:cdk:cloudformation:props":{"content":{"schemaVersion":"2.2","description":"Sample SSM Document","mainSteps":[{"action":"aws:runShellScript","name":"step1","inputs":{"runCommand":["echo \"Hello, World!\""]}}]},"documentType":"Command","name":"TestDocument"}}},"MyConfigFromDocument":{"id":"MyConfigFromDocument","path":"aws-appconfig-configuration/MyConfigFromDocument","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"Role":{"id":"Role","path":"aws-appconfig-configuration/MyConfigFromDocument/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-appconfig-configuration/MyConfigFromDocument/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromDocument/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appconfig.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"AllowAppConfigReadFromSourcePolicy","policyDocument":{"Statement":[{"Action":"ssm:GetDocument","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ssm:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":document/",{"Ref":"MyDocument"}]]}}],"Version":"2012-10-17"}}]}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromDocument/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":{"Fn::Join":["",["ssm-document://",{"Ref":"MyDocument"}]]},"name":"awsappconfigconfiguration-MyConfigFromDocument-A15AC401","retrievalRoleArn":{"Fn::GetAtt":["MyConfigFromDocumentRole29FB4D3D","Arn"]}}}},"Deployment7A5BA":{"id":"Deployment7A5BA","path":"aws-appconfig-configuration/MyConfigFromDocument/Deployment7A5BA","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeployment","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::Deployment","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"configurationProfileId":{"Ref":"MyConfigFromDocument79E66ABA"},"configurationVersion":"1","deploymentStrategyId":{"Ref":"MyDeployStrategy062CAEA2"},"environmentId":{"Ref":"MyAppConfigDocumentEnv34B10223"}}}}}},"MyBucket":{"id":"MyBucket","path":"aws-appconfig-configuration/MyBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0","metadata":[{"versioned":true,"removalPolicy":"destroy","autoDeleteObjects":true}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:2255b7ad","value":"true"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"aws-appconfig-configuration/MyBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"0.0.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"MyBucketF68F3FF0"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"aws-appconfig-configuration/MyBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"aws-appconfig-configuration/MyBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}}}},"LatestNodeRuntimeMap":{"id":"LatestNodeRuntimeMap","path":"aws-appconfig-configuration/LatestNodeRuntimeMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"0.0.0"}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"aws-appconfig-configuration/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"0.0.0"},"children":{"Staging":{"id":"Staging","path":"aws-appconfig-configuration/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"Role":{"id":"Role","path":"aws-appconfig-configuration/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}},"Handler":{"id":"Handler","path":"aws-appconfig-configuration/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"DeployConfigInBucket":{"id":"DeployConfigInBucket","path":"aws-appconfig-configuration/DeployConfigInBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"0.0.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"aws-appconfig-configuration/DeployConfigInBucket/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"0.0.0","metadata":[{}]},"children":{"Code":{"id":"Code","path":"aws-appconfig-configuration/DeployConfigInBucket/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"aws-appconfig-configuration/DeployConfigInBucket/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"aws-appconfig-configuration/DeployConfigInBucket/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/DeployConfigInBucket/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"aws-appconfig-configuration/DeployConfigInBucket/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"0.0.0","metadata":[{"uuid":"*","layers":["*"],"environment":"*","lambdaPurpose":"*","timeout":"*","role":"*","memorySize":"*","ephemeralStorageSize":"*","vpc":"*","vpcSubnets":"*","filesystem":"*","logGroup":"*","code":"*","handler":"*","runtime":"*"},{"addMetadata":["*",true]},{"addMetadata":["*","*"]}]}},"Asset1":{"id":"Asset1","path":"aws-appconfig-configuration/DeployConfigInBucket/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"aws-appconfig-configuration/DeployConfigInBucket/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"aws-appconfig-configuration/DeployConfigInBucket/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"aws-appconfig-configuration/DeployConfigInBucket/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"0.0.0","metadata":["*","*","*"]},"children":{"Default":{"id":"Default","path":"aws-appconfig-configuration/DeployConfigInBucket/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"0.0.0"}}}},"Asset2":{"id":"Asset2","path":"aws-appconfig-configuration/DeployConfigInBucket/Asset2","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"aws-appconfig-configuration/DeployConfigInBucket/Asset2/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"aws-appconfig-configuration/DeployConfigInBucket/Asset2/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"layers":["*"],"environment":"*","timeout":"*","role":"*","memorySize":"*","ephemeralStorageSize":"*","vpc":"*","vpcSubnets":"*","filesystem":"*","logGroup":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":["*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"/*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"}]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"0.0.0"},"children":{"Stage":{"id":"Stage","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"0.0.0"}},"AssetBucket":{"id":"AssetBucket","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"0.0.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployConfigInBucketAwsCliLayerFC57D055"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}}}}},"MyConfigFromBucket":{"id":"MyConfigFromBucket","path":"aws-appconfig-configuration/MyConfigFromBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"DeploymentStrategy":{"id":"DeploymentStrategy","path":"aws-appconfig-configuration/MyConfigFromBucket/DeploymentStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromBucket/DeploymentStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":20,"finalBakeTimeInMinutes":10,"growthFactor":10,"growthType":"EXPONENTIAL","name":"awsappconfigconfiguration-MyomBucket-DeploymentStrategy-8366DF86","replicateTo":"NONE"}}}}},"Role":{"id":"Role","path":"aws-appconfig-configuration/MyConfigFromBucket/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-appconfig-configuration/MyConfigFromBucket/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromBucket/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appconfig.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"AllowAppConfigReadFromSourcePolicy","policyDocument":{"Statement":[{"Action":["s3:GetObject","s3:GetObjectMetadata","s3:GetObjectVersion"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Ref":"MyBucketF68F3FF0"},"/hello/world/file.txt"]]}},{"Action":["s3:GetBucketLocation","s3:GetBucketVersioning","s3:ListBucket","s3:ListBucketVersions"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Ref":"MyBucketF68F3FF0"}]]}},{"Action":"s3:ListAllMyBuckets","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}]}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"description":{"Fn::Join":["",["Sourced from ",{"Fn::Select":[0,{"Fn::GetAtt":["DeployConfigInBucketCustomResource91997C5B","SourceObjectKeys"]}]}]]},"locationUri":{"Fn::Join":["",["s3://",{"Ref":"MyBucketF68F3FF0"},"/hello/world/file.txt"]]},"name":"awsappconfigconfiguration-MyConfigFromBucket-79972829","retrievalRoleArn":{"Fn::GetAtt":["MyConfigFromBucketRole5749669F","Arn"]}}}}}},"DummyRole":{"id":"DummyRole","path":"aws-appconfig-configuration/DummyRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportDummyRole":{"id":"ImportDummyRole","path":"aws-appconfig-configuration/DummyRole/ImportDummyRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/DummyRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appconfig.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-appconfig-configuration/DummyRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/DummyRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject","s3:GetObjectMetadata","s3:GetObjectVersion"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Ref":"MyBucketF68F3FF0"},"/*"]]}},{"Action":["s3:GetBucketLocation","s3:GetBucketVersioning","s3:ListBucket","s3:ListBucketVersions"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Ref":"MyBucketF68F3FF0"}]]}},{"Action":"s3:ListAllMyBuckets","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"DummyRoleDefaultPolicy68837380","roles":[{"Ref":"DummyRoleA4B7EAF1"}]}}}}}}},"MyConfigFromBucketWithRole":{"id":"MyConfigFromBucketWithRole","path":"aws-appconfig-configuration/MyConfigFromBucketWithRole","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"DeploymentStrategy":{"id":"DeploymentStrategy","path":"aws-appconfig-configuration/MyConfigFromBucketWithRole/DeploymentStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromBucketWithRole/DeploymentStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":20,"finalBakeTimeInMinutes":10,"growthFactor":10,"growthType":"EXPONENTIAL","name":"awsappconfigconfiguration-MyWithRole-DeploymentStrategy-94CCA86F","replicateTo":"NONE"}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromBucketWithRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"description":{"Fn::Join":["",["Sourced from ",{"Fn::Select":[0,{"Fn::GetAtt":["DeployConfigInBucketCustomResource91997C5B","SourceObjectKeys"]}]}," with defined role"]]},"locationUri":{"Fn::Join":["",["s3://",{"Ref":"MyBucketF68F3FF0"},"/hello/world/file.txt"]]},"name":"awsappconfigconfiguration-MyConfigFromBucketWithRole-AE02C397","retrievalRoleArn":{"Fn::GetAtt":["DummyRoleA4B7EAF1","Arn"]}}}}}},"MySecret":{"id":"MySecret","path":"aws-appconfig-configuration/MySecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"0.0.0","metadata":[{"secretStringValue":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MySecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"secretString":"This is the content stored in secrets manager"}}}}},"MyConfigFromSecret":{"id":"MyConfigFromSecret","path":"aws-appconfig-configuration/MyConfigFromSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"DeploymentStrategy":{"id":"DeploymentStrategy","path":"aws-appconfig-configuration/MyConfigFromSecret/DeploymentStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromSecret/DeploymentStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":20,"finalBakeTimeInMinutes":10,"growthFactor":10,"growthType":"EXPONENTIAL","name":"awsappconfigconfiguration-MyomSecret-DeploymentStrategy-2F6D94AB","replicateTo":"NONE"}}}}},"Role":{"id":"Role","path":"aws-appconfig-configuration/MyConfigFromSecret/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-appconfig-configuration/MyConfigFromSecret/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromSecret/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appconfig.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"AllowAppConfigReadFromSourcePolicy","policyDocument":{"Statement":[{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":{"Ref":"MySecret8FE80B51"}}],"Version":"2012-10-17"}}]}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":{"Ref":"MySecret8FE80B51"},"name":"awsappconfigconfiguration-MyConfigFromSecret-3BD4C031","retrievalRoleArn":{"Fn::GetAtt":["MyConfigFromSecretRole77E11CE7","Arn"]}}}}}},"MyKey":{"id":"MyKey","path":"aws-appconfig-configuration/MyKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"},{"Action":["kms:CreateGrant","kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Condition":{"StringEquals":{"kms:ViaService":{"Fn::Join":["",["secretsmanager.",{"Ref":"AWS::Region"},".amazonaws.com"]]}}},"Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"MySecretWithKey":{"id":"MySecretWithKey","path":"aws-appconfig-configuration/MySecretWithKey","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"0.0.0","metadata":[{"secretStringValue":"*","encryptionKey":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MySecretWithKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"kmsKeyId":{"Fn::GetAtt":["MyKey6AB29FA6","Arn"]},"secretString":"This is the content stored in secrets manager"}}}}},"MyConfigFromSecretWithKey":{"id":"MyConfigFromSecretWithKey","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"DeploymentStrategy":{"id":"DeploymentStrategy","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey/DeploymentStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey/DeploymentStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":20,"finalBakeTimeInMinutes":10,"growthFactor":10,"growthType":"EXPONENTIAL","name":"awsappconfigconfiguration-MytWithKey-DeploymentStrategy-70C32371","replicateTo":"NONE"}}}}},"Role":{"id":"Role","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appconfig.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"AllowAppConfigReadFromSourcePolicy","policyDocument":{"Statement":[{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":{"Ref":"MySecretWithKey1F7B590B"}},{"Action":"kms:Decrypt","Effect":"Allow","Resource":{"Fn::GetAtt":["MyKey6AB29FA6","Arn"]}}],"Version":"2012-10-17"}}]}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromSecretWithKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":{"Ref":"MySecretWithKey1F7B590B"},"name":"awsappconfigconfiguration-MyConfigFromSecretWithKey-516D9EB2","retrievalRoleArn":{"Fn::GetAtt":["MyConfigFromSecretWithKeyRole3C7B494A","Arn"]}}}}}},"MyPipeline":{"id":"MyPipeline","path":"aws-appconfig-configuration/MyPipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.Pipeline","version":"0.0.0","metadata":[{"crossAccountKeys":true,"stages":[{"stageName":"*","actions":[{}]},{"stageName":"*","actions":[{}]}]},{"addStage":[{"stageName":"*"}]},{"addStage":[{"stageName":"*"}]}]},"children":{"ArtifactsBucketEncryptionKey":{"id":"ArtifactsBucketEncryptionKey","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucketEncryptionKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"0.0.0","metadata":[{"removalPolicy":"destroy","enableKeyRotation":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucketEncryptionKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"}}}}}},"ArtifactsBucketEncryptionKeyAlias":{"id":"ArtifactsBucketEncryptionKeyAlias","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucketEncryptionKeyAlias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"0.0.0","metadata":[{"aliasName":"*","targetKey":"*","removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucketEncryptionKeyAlias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/codepipeline-aws-appconfig-configuration-mypipeline-893f29d4","targetKeyId":{"Fn::GetAtt":["MyPipelineArtifactsBucketEncryptionKey8BF0A7F3","Arn"]}}}}}},"ArtifactsBucket":{"id":"ArtifactsBucket","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0","metadata":[{"bucketName":"*","encryptionKey":"*","encryption":"KMS","enforceSSL":true,"blockPublicAccess":"*","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"aws:kms","kmsMasterKeyId":{"Fn::GetAtt":["MyPipelineArtifactsBucketEncryptionKey8BF0A7F3","Arn"]}}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true}}}},"Policy":{"id":"Policy","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"0.0.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/ArtifactsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"MyPipelineArtifactsBucket727923DD"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}}}},"Role":{"id":"Role","path":"aws-appconfig-configuration/MyPipeline/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*"},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"aws-appconfig-configuration/MyPipeline/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codepipeline.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-appconfig-configuration/MyPipeline/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["MyPipelineArtifactsBucketEncryptionKey8BF0A7F3","Arn"]}},{"Action":"sts:AssumeRole","Effect":"Allow","Resource":[{"Fn::GetAtt":["MyPipelinebetaSourceCodePipelineActionRoleA59DCC4C","Arn"]},{"Fn::GetAtt":["MyPipelineprodDeployCodePipelineActionRoleFAD07544","Arn"]}]}],"Version":"2012-10-17"},"policyName":"MyPipelineRoleDefaultPolicy34F09EFA","roles":[{"Ref":"MyPipelineRoleC0D47CA4"}]}}}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_codepipeline.CfnPipeline","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CodePipeline::Pipeline","aws:cdk:cloudformation:props":{"artifactStore":{"type":"S3","location":{"Ref":"MyPipelineArtifactsBucket727923DD"},"encryptionKey":{"type":"KMS","id":{"Fn::GetAtt":["MyPipelineArtifactsBucketEncryptionKey8BF0A7F3","Arn"]}}},"roleArn":{"Fn::GetAtt":["MyPipelineRoleC0D47CA4","Arn"]},"stages":[{"name":"beta","actions":[{"name":"Source","outputArtifacts":[{"name":"SourceOutput"}],"actionTypeId":{"category":"Source","version":"1","owner":"AWS","provider":"S3"},"configuration":{"S3Bucket":{"Ref":"MyBucketF68F3FF0"},"S3ObjectKey":"hello/world/codepipeline.txt"},"runOrder":1,"roleArn":{"Fn::GetAtt":["MyPipelinebetaSourceCodePipelineActionRoleA59DCC4C","Arn"]}}]},{"name":"prod","actions":[{"name":"Deploy","inputArtifacts":[{"name":"SourceOutput"}],"actionTypeId":{"category":"Deploy","version":"1","owner":"AWS","provider":"S3"},"configuration":{"BucketName":{"Ref":"MyBucketF68F3FF0"},"Extract":"true"},"runOrder":1,"roleArn":{"Fn::GetAtt":["MyPipelineprodDeployCodePipelineActionRoleFAD07544","Arn"]}}]}]}}},"beta":{"id":"beta","path":"aws-appconfig-configuration/MyPipeline/beta","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Source":{"id":"Source","path":"aws-appconfig-configuration/MyPipeline/beta/Source","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"aws-appconfig-configuration/MyPipeline/beta/Source/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"aws-appconfig-configuration/MyPipeline/beta/Source/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/beta/Source/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["MyPipelineRoleC0D47CA4","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-appconfig-configuration/MyPipeline/beta/Source/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/beta/Source/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},"/hello/world/codepipeline.txt"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:Encrypt","kms:GenerateDataKey*","kms:ReEncrypt*"],"Effect":"Allow","Resource":{"Fn::GetAtt":["MyPipelineArtifactsBucketEncryptionKey8BF0A7F3","Arn"]}}],"Version":"2012-10-17"},"policyName":"MyPipelinebetaSourceCodePipelineActionRoleDefaultPolicy4F6DF82E","roles":[{"Ref":"MyPipelinebetaSourceCodePipelineActionRoleA59DCC4C"}]}}}}}}}}}}},"prod":{"id":"prod","path":"aws-appconfig-configuration/MyPipeline/prod","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Deploy":{"id":"Deploy","path":"aws-appconfig-configuration/MyPipeline/prod/Deploy","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CodePipelineActionRole":{"id":"CodePipelineActionRole","path":"aws-appconfig-configuration/MyPipeline/prod/Deploy/CodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"grantAssumeRole":["*"]},{"grant":["*","*"]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCodePipelineActionRole":{"id":"ImportCodePipelineActionRole","path":"aws-appconfig-configuration/MyPipeline/prod/Deploy/CodePipelineActionRole/ImportCodePipelineActionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"0.0.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/prod/Deploy/CodePipelineActionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["MyPipelineRoleC0D47CA4","Arn"]}}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-appconfig-configuration/MyPipeline/prod/Deploy/CodePipelineActionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyPipeline/prod/Deploy/CodePipelineActionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyBucketF68F3FF0","Arn"]},"/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["MyPipelineArtifactsBucket727923DD","Arn"]},"/*"]]}]},{"Action":["kms:Decrypt","kms:DescribeKey"],"Effect":"Allow","Resource":{"Fn::GetAtt":["MyPipelineArtifactsBucketEncryptionKey8BF0A7F3","Arn"]}}],"Version":"2012-10-17"},"policyName":"MyPipelineprodDeployCodePipelineActionRoleDefaultPolicyF1913519","roles":[{"Ref":"MyPipelineprodDeployCodePipelineActionRoleFAD07544"}]}}}}}}}}}}}}},"MyConfigFromPipeline":{"id":"MyConfigFromPipeline","path":"aws-appconfig-configuration/MyConfigFromPipeline","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.SourcedConfiguration","version":"0.0.0"},"children":{"DeploymentStrategy":{"id":"DeploymentStrategy","path":"aws-appconfig-configuration/MyConfigFromPipeline/DeploymentStrategy","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.DeploymentStrategy","version":"0.0.0","metadata":[{"rolloutStrategy":"*"}]},"children":{"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromPipeline/DeploymentStrategy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnDeploymentStrategy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::DeploymentStrategy","aws:cdk:cloudformation:props":{"deploymentDurationInMinutes":20,"finalBakeTimeInMinutes":10,"growthFactor":10,"growthType":"EXPONENTIAL","name":"awsappconfigconfiguration-MyPipeline-DeploymentStrategy-5F76004F","replicateTo":"NONE"}}}}},"Resource":{"id":"Resource","path":"aws-appconfig-configuration/MyConfigFromPipeline/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appconfig.CfnConfigurationProfile","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppConfig::ConfigurationProfile","aws:cdk:cloudformation:props":{"applicationId":{"Ref":"MyAppConfigB4B63E75"},"locationUri":{"Fn::Join":["",["codepipeline://",{"Ref":"MyPipelineAED38ECF"}]]},"name":"awsappconfigconfiguration-MyConfigFromPipeline-FD2B6B65"}}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-appconfig-configuration/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-appconfig-configuration/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"appconfig-configuration":{"id":"appconfig-configuration","path":"appconfig-configuration","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"appconfig-configuration/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"appconfig-configuration/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"appconfig-configuration/DefaultTest/DeployAssert","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"appconfig-configuration/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"appconfig-configuration/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}