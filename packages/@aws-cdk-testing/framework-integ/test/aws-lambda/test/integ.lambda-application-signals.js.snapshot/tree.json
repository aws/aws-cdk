{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"ApplicationSignalsStack1":{"id":"ApplicationSignalsStack1","path":"ApplicationSignalsStack1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"PythonFunc":{"id":"PythonFunc","path":"ApplicationSignalsStack1/PythonFunc","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"runtime":"*","handler":"*","code":"*","architecture":"*","adotInstrumentation":{"layerVersion":"*","execWrapper":{}}},{"addLayers":["*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApplicationSignalsStack1/PythonFunc/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApplicationSignalsStack1/PythonFunc/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack1/PythonFunc/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/CloudWatchLambdaApplicationSignalsExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApplicationSignalsStack1/PythonFunc/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsStack1/PythonFunc/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"PythonFuncServiceRoleDefaultPolicy7FD62D94","roles":[{"Ref":"PythonFuncServiceRoleCA1D81AE"}]}}}}}}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack1/PythonFunc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"zipFile":"def handler(event, context): return {\"statusCode\": 200}"},"environment":{"variables":{"AWS_LAMBDA_EXEC_WRAPPER":"/opt/otel-instrument"}},"handler":"index.handler","layers":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":615299751070:layer:AWSOpenTelemetryDistroPython:19"]]}],"role":{"Fn::GetAtt":["PythonFuncServiceRoleCA1D81AE","Arn"]},"runtime":"python3.12","tracingConfig":{"mode":"Active"}}}},"AdotLayer":{"id":"AdotLayer","path":"ApplicationSignalsStack1/PythonFunc/AdotLayer","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":[]}}}},"NodeFunc":{"id":"NodeFunc","path":"ApplicationSignalsStack1/NodeFunc","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"runtime":"*","handler":"*","code":"*","architecture":"*","adotInstrumentation":{"layerVersion":"*","execWrapper":{}}},{"addLayers":["*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApplicationSignalsStack1/NodeFunc/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApplicationSignalsStack1/NodeFunc/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack1/NodeFunc/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/CloudWatchLambdaApplicationSignalsExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApplicationSignalsStack1/NodeFunc/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsStack1/NodeFunc/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"NodeFuncServiceRoleDefaultPolicy01BAC05B","roles":[{"Ref":"NodeFuncServiceRoleE1B78082"}]}}}}}}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack1/NodeFunc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["arm64"],"code":{"zipFile":"exports.handler = async () => ({ statusCode: 200 })"},"environment":{"variables":{"AWS_LAMBDA_EXEC_WRAPPER":"/opt/otel-instrument"}},"handler":"index.handler","layers":[{"Fn::FindInMap":["AdotlambdalayerMap",{"Ref":"AWS::Region"},"APPLICATIONxSIGNALSxNODEJSx10xarm64"]}],"role":{"Fn::GetAtt":["NodeFuncServiceRoleE1B78082","Arn"]},"runtime":"nodejs18.x","tracingConfig":{"mode":"Active"}}}},"AdotLayer":{"id":"AdotLayer","path":"ApplicationSignalsStack1/NodeFunc/AdotLayer","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":[]}}}},"Adot-lambda-layerMap":{"id":"Adot-lambda-layerMap","path":"ApplicationSignalsStack1/Adot-lambda-layerMap","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsStack1/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsStack1/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"ApplicationSignalsStack2":{"id":"ApplicationSignalsStack2","path":"ApplicationSignalsStack2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"PythonFunc":{"id":"PythonFunc","path":"ApplicationSignalsStack2/PythonFunc","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"runtime":"*","handler":"*","code":"*","architecture":"*","adotInstrumentation":{"layerVersion":"*","execWrapper":{}}},{"addLayers":["*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApplicationSignalsStack2/PythonFunc/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApplicationSignalsStack2/PythonFunc/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack2/PythonFunc/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/CloudWatchLambdaApplicationSignalsExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApplicationSignalsStack2/PythonFunc/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsStack2/PythonFunc/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"PythonFuncServiceRoleDefaultPolicy7FD62D94","roles":[{"Ref":"PythonFuncServiceRoleCA1D81AE"}]}}}}}}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack2/PythonFunc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"zipFile":"def handler(event, context): return {\"statusCode\": 200}"},"environment":{"variables":{"AWS_LAMBDA_EXEC_WRAPPER":"/opt/otel-instrument"}},"handler":"index.handler","layers":[{"Fn::Join":["",["arn:aws:lambda:",{"Ref":"AWS::Region"},":615299751070:layer:AWSOpenTelemetryDistroPython:19"]]}],"role":{"Fn::GetAtt":["PythonFuncServiceRoleCA1D81AE","Arn"]},"runtime":"python3.12","tracingConfig":{"mode":"Active"}}}},"AdotLayer":{"id":"AdotLayer","path":"ApplicationSignalsStack2/PythonFunc/AdotLayer","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":[]}}}},"NodeFunc":{"id":"NodeFunc","path":"ApplicationSignalsStack2/NodeFunc","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"0.0.0","metadata":[{"runtime":"*","handler":"*","code":"*","architecture":"*","adotInstrumentation":{"layerVersion":"*","execWrapper":{}}},{"addLayers":["*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApplicationSignalsStack2/NodeFunc/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0","metadata":[{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApplicationSignalsStack2/NodeFunc/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":["*"]}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack2/NodeFunc/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/CloudWatchLambdaApplicationSignalsExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApplicationSignalsStack2/NodeFunc/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"ApplicationSignalsStack2/NodeFunc/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"NodeFuncServiceRoleDefaultPolicy01BAC05B","roles":[{"Ref":"NodeFuncServiceRoleE1B78082"}]}}}}}}},"Resource":{"id":"Resource","path":"ApplicationSignalsStack2/NodeFunc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"zipFile":"exports.handler = async () => ({ statusCode: 200 })"},"environment":{"variables":{"AWS_LAMBDA_EXEC_WRAPPER":"/opt/otel-instrument"}},"handler":"index.handler","layers":[{"Fn::FindInMap":["AdotlambdalayerMap",{"Ref":"AWS::Region"},"APPLICATIONxSIGNALSxNODEJSx10xx86x64"]}],"role":{"Fn::GetAtt":["NodeFuncServiceRoleE1B78082","Arn"]},"runtime":"nodejs18.x","tracingConfig":{"mode":"Active"}}}},"AdotLayer":{"id":"AdotLayer","path":"ApplicationSignalsStack2/NodeFunc/AdotLayer","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2","metadata":[]}}}},"Adot-lambda-layerMap":{"id":"Adot-lambda-layerMap","path":"ApplicationSignalsStack2/Adot-lambda-layerMap","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsStack2/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsStack2/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}},"ApplicationSignalsIntegTest":{"id":"ApplicationSignalsIntegTest","path":"ApplicationSignalsIntegTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTest","version":"0.0.0"},"children":{"DefaultTest":{"id":"DefaultTest","path":"ApplicationSignalsIntegTest/DefaultTest","constructInfo":{"fqn":"@aws-cdk/integ-tests-alpha.IntegTestCase","version":"0.0.0"},"children":{"Default":{"id":"Default","path":"ApplicationSignalsIntegTest/DefaultTest/Default","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"DeployAssert":{"id":"DeployAssert","path":"ApplicationSignalsIntegTest/DefaultTest/DeployAssert","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"BootstrapVersion":{"id":"BootstrapVersion","path":"ApplicationSignalsIntegTest/DefaultTest/DeployAssert/BootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApplicationSignalsIntegTest/DefaultTest/DeployAssert/CheckBootstrapVersion","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}